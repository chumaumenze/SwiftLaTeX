(function(Br,oe){typeof exports=="object"&&typeof module<"u"?oe(exports):typeof define=="function"&&define.amd?define(["exports"],oe):(Br=typeof globalThis<"u"?globalThis:Br||self,oe(Br.SwiftLatex={}))})(this,function(Br){"use strict";var oe=typeof document<"u"?document.currentScript:null,Kt=(()=>{var Fr=typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:oe&&oe.src||new URL("swiftlatex.min.js",document.baseURI).href;return async function(Dr={}){var l=Dr,Sr,Ne;l.ready=new Promise((e,r)=>{Sr=e,Ne=r});var Rr=Object.assign({},l),qe=[],$e="./this.program",_e=(e,r)=>{throw r},ar=typeof window=="object",ne=typeof importScripts=="function",Ze=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",ee="";function cr(e){return l.locateFile?l.locateFile(e,ee):ee+e}var Se,Re,He;if(Ze){const{createRequire:e}=await import("module");var je=e(typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:oe&&oe.src||new URL("swiftlatex.min.js",document.baseURI).href),Qe=je("fs"),Me=je("path");ne?ee=Me.dirname(ee)+"/":ee=je("url").fileURLToPath(new URL("./",typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:oe&&oe.src||new URL("swiftlatex.min.js",document.baseURI).href)),Se=(r,t)=>(r=Ve(r)?new URL(r):Me.normalize(r),Qe.readFileSync(r,t?void 0:"utf8")),He=r=>{var t=Se(r,!0);return t.buffer||(t=new Uint8Array(t)),t},Re=(r,t,n,a=!0)=>{r=Ve(r)?new URL(r):Me.normalize(r),Qe.readFile(r,a?void 0:"utf8",(u,f)=>{u?n(u):t(a?f.buffer:f)})},!l.thisProgram&&process.argv.length>1&&($e=process.argv[1].replace(/\\/g,"/")),qe=process.argv.slice(2),_e=(r,t)=>{throw process.exitCode=r,t},l.inspect=()=>"[Emscripten Module object]"}else(ar||ne)&&(ne?ee=self.location.href:typeof document<"u"&&document.currentScript&&(ee=document.currentScript.src),Fr&&(ee=Fr),ee.indexOf("blob:")!==0?ee=ee.substr(0,ee.replace(/[?#].*/,"").lastIndexOf("/")+1):ee="",Se=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},ne&&(He=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),Re=(e,r,t)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{if(n.status==200||n.status==0&&n.response){r(n.response);return}t()},n.onerror=t,n.send(null)});var Xe=l.print||console.log.bind(console),me=l.printErr||console.error.bind(console);Object.assign(l,Rr),Rr=null,l.arguments&&(qe=l.arguments),l.thisProgram&&($e=l.thisProgram),l.quit&&(_e=l.quit);var xe;l.wasmBinary&&(xe=l.wasmBinary),typeof WebAssembly!="object"&&ye("no native wasm support detected");var ze,dr=!1,pe;function er(e,r){e||ye(r)}var te,N,ie,S,B;function Mr(){var e=ze.buffer;l.HEAP8=te=new Int8Array(e),l.HEAP16=ie=new Int16Array(e),l.HEAPU8=N=new Uint8Array(e),l.HEAPU16=new Uint16Array(e),l.HEAP32=S=new Int32Array(e),l.HEAPU32=B=new Uint32Array(e),l.HEAPF32=new Float32Array(e),l.HEAPF64=new Float64Array(e)}var Ir=[],Ar=[],wt=[],Hr=[];function gt(){if(l.preRun)for(typeof l.preRun=="function"&&(l.preRun=[l.preRun]);l.preRun.length;)kt(l.preRun.shift());Ge(Ir)}function yt(){!l.noFSInit&&!v.init.initialized&&v.init(),v.ignorePermissions=!1,Ge(Ar)}function Et(){Ge(wt)}function _t(){if(l.postRun)for(typeof l.postRun=="function"&&(l.postRun=[l.postRun]);l.postRun.length;)vr(l.postRun.shift());Ge(Hr)}function kt(e){Ir.unshift(e)}function rr(e){Ar.unshift(e)}function vr(e){Hr.unshift(e)}var Ae=0,Ue=null;function tt(e){return e}function Te(e){Ae++,l.monitorRunDependencies&&l.monitorRunDependencies(Ae)}function tr(e){if(Ae--,l.monitorRunDependencies&&l.monitorRunDependencies(Ae),Ae==0&&Ue){var r=Ue;Ue=null,r()}}function ye(e){l.onAbort&&l.onAbort(e),e="Aborted("+e+")",me(e),dr=!0,pe=1,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw Ne(r),r}var Tr="data:application/octet-stream;base64,",We=e=>e.startsWith(Tr),Ve=e=>e.startsWith("file://"),ke;l.locateFile?(ke="swiftlatexxetex.wasm",We(ke)||(ke=cr(ke))):ke=new URL("swiftlatexxetex.wasm",typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:oe&&oe.src||new URL("swiftlatex.min.js",document.baseURI).href).href;function Pr(e){if(e==ke&&xe)return new Uint8Array(xe);if(He)return He(e);throw"both async and sync fetching of the wasm failed"}function bt(e){if(!xe&&(ar||ne)){if(typeof fetch=="function"&&!Ve(e))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at '"+e+"'";return r.arrayBuffer()}).catch(()=>Pr(e));if(Re)return new Promise((r,t)=>{Re(e,n=>r(new Uint8Array(n)),t)})}return Promise.resolve().then(()=>Pr(e))}function jr(e,r,t){return bt(e).then(n=>WebAssembly.instantiate(n,r)).then(n=>n).then(t,n=>{me(`failed to asynchronously prepare wasm: ${n}`),ye(n)})}function V(e,r,t,n){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!We(r)&&!Ve(r)&&!Ze&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(a=>{var u=WebAssembly.instantiateStreaming(a,t);return u.then(n,function(f){return me(`wasm streaming compile failed: ${f}`),me("falling back to ArrayBuffer instantiation"),jr(r,t,n)})}):jr(r,t,n)}function he(){var e={a:Or};function r(n,a){return de=n.exports,ze=de.J,Mr(),pt=de.R,rr(de.K),tr(),de}Te();function t(n){r(n.instance)}if(l.instantiateWasm)try{return l.instantiateWasm(e,r)}catch(n){me(`Module.instantiateWasm callback failed with error: ${n}`),Ne(n)}return V(xe,ke,e,t).catch(Ne),{}}var T,q;function Xr(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var Ge=e=>{for(;e.length>0;)e.shift()(l)},sr=l.noExitRuntime||!0,Ke=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ce=(e,r,t)=>{for(var n=r+t,a=r;e[a]&&!(a>=n);)++a;if(a-r>16&&e.buffer&&Ke)return Ke.decode(e.subarray(r,a));for(var u="";r<a;){var f=e[r++];if(!(f&128)){u+=String.fromCharCode(f);continue}var h=e[r++]&63;if((f&224)==192){u+=String.fromCharCode((f&31)<<6|h);continue}var E=e[r++]&63;if((f&240)==224?f=(f&15)<<12|h<<6|E:f=(f&7)<<18|h<<12|E<<6|e[r++]&63,f<65536)u+=String.fromCharCode(f);else{var k=f-65536;u+=String.fromCharCode(55296|k>>10,56320|k&1023)}}return u},H=(e,r)=>e?Ce(N,e,r):"",Ft=(e,r,t,n)=>{ye(`Assertion failed: ${H(e)}, at: `+[r?H(r):"unknown filename",t,n?H(n):"unknown function"])},L={isAbs:e=>e.charAt(0)==="/",splitPath:e=>{var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return r.exec(e).slice(1)},normalizeArray:(e,r)=>{for(var t=0,n=e.length-1;n>=0;n--){var a=e[n];a==="."?e.splice(n,1):a===".."?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:e=>{var r=L.isAbs(e),t=e.substr(-1)==="/";return e=L.normalizeArray(e.split("/").filter(n=>!!n),!r).join("/"),!e&&!r&&(e="."),e&&t&&(e+="/"),(r?"/":"")+e},dirname:e=>{var r=L.splitPath(e),t=r[0],n=r[1];return!t&&!n?".":(n&&(n=n.substr(0,n.length-1)),t+n)},basename:e=>{if(e==="/")return"/";e=L.normalize(e),e=e.replace(/\/$/,"");var r=e.lastIndexOf("/");return r===-1?e:e.substr(r+1)},join:function(){var e=Array.prototype.slice.call(arguments);return L.normalize(e.join("/"))},join2:(e,r)=>L.normalize(e+"/"+r)},Ye=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return n=>crypto.getRandomValues(n);if(Ze)try{var e=je("crypto"),r=e.randomFillSync;if(r)return n=>e.randomFillSync(n);var t=e.randomBytes;return n=>(n.set(t(n.byteLength)),n)}catch{}ye("initRandomDevice")},mr=e=>(mr=Ye())(e),ue={resolve:function(){for(var e="",r=!1,t=arguments.length-1;t>=-1&&!r;t--){var n=t>=0?arguments[t]:v.cwd();if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,r=L.isAbs(n)}return e=L.normalizeArray(e.split("/").filter(a=>!!a),!r).join("/"),(r?"/":"")+e||"."},relative:(e,r)=>{e=ue.resolve(e).substr(1),r=ue.resolve(r).substr(1);function t(k){for(var M=0;M<k.length&&k[M]==="";M++);for(var P=k.length-1;P>=0&&k[P]==="";P--);return M>P?[]:k.slice(M,P-M+1)}for(var n=t(e.split("/")),a=t(r.split("/")),u=Math.min(n.length,a.length),f=u,h=0;h<u;h++)if(n[h]!==a[h]){f=h;break}for(var E=[],h=f;h<n.length;h++)E.push("..");return E=E.concat(a.slice(f)),E.join("/")}},nr=[],be=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++t):r+=3}return r},hr=(e,r,t,n)=>{if(!(n>0))return 0;for(var a=t,u=t+n-1,f=0;f<e.length;++f){var h=e.charCodeAt(f);if(h>=55296&&h<=57343){var E=e.charCodeAt(++f);h=65536+((h&1023)<<10)|E&1023}if(h<=127){if(t>=u)break;r[t++]=h}else if(h<=2047){if(t+1>=u)break;r[t++]=192|h>>6,r[t++]=128|h&63}else if(h<=65535){if(t+2>=u)break;r[t++]=224|h>>12,r[t++]=128|h>>6&63,r[t++]=128|h&63}else{if(t+3>=u)break;r[t++]=240|h>>18,r[t++]=128|h>>12&63,r[t++]=128|h>>6&63,r[t++]=128|h&63}}return r[t]=0,t-a};function ce(e,r,t){var n=t>0?t:be(e)+1,a=new Array(n),u=hr(e,a,0,a.length);return r&&(a.length=u),a}var nt=()=>{if(!nr.length){var e=null;if(Ze){var r=256,t=Buffer.alloc(r),n=0,a=process.stdin.fd;try{n=Qe.readSync(a,t)}catch(u){if(u.toString().includes("EOF"))n=0;else throw u}n>0?e=t.slice(0,n).toString("utf-8"):e=null}else typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`));if(!e)return null;nr=ce(e,!0)}return nr.shift()},U={ttys:[],init(){},shutdown(){},register(e,r){U.ttys[e]={input:[],output:[],ops:r},v.registerDevice(e,U.stream_ops)},stream_ops:{open(e){var r=U.ttys[e.node.rdev];if(!r)throw new v.ErrnoError(43);e.tty=r,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,r,t,n,a){if(!e.tty||!e.tty.ops.get_char)throw new v.ErrnoError(60);for(var u=0,f=0;f<n;f++){var h;try{h=e.tty.ops.get_char(e.tty)}catch{throw new v.ErrnoError(29)}if(h===void 0&&u===0)throw new v.ErrnoError(6);if(h==null)break;u++,r[t+f]=h}return u&&(e.node.timestamp=Date.now()),u},write(e,r,t,n,a){if(!e.tty||!e.tty.ops.put_char)throw new v.ErrnoError(60);try{for(var u=0;u<n;u++)e.tty.ops.put_char(e.tty,r[t+u])}catch{throw new v.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),u}},default_tty_ops:{get_char(e){return nt()},put_char(e,r){r===null||r===10?(Xe(Ce(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},fsync(e){e.output&&e.output.length>0&&(Xe(Ce(e.output,0)),e.output=[])},ioctl_tcgets(e){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(e,r,t){return 0},ioctl_tiocgwinsz(e){return[24,80]}},default_tty1_ops:{put_char(e,r){r===null||r===10?(me(Ce(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},fsync(e){e.output&&e.output.length>0&&(me(Ce(e.output,0)),e.output=[])}}},ot=(e,r)=>(N.fill(0,e,e+r),e),X=(e,r)=>Math.ceil(e/r)*r,it=e=>{e=X(e,65536);var r=m(65536,e);return r?ot(r,e):0},W={ops_table:null,mount(e){return W.createNode(null,"/",16895,0)},createNode(e,r,t,n){if(v.isBlkdev(t)||v.isFIFO(t))throw new v.ErrnoError(63);W.ops_table||(W.ops_table={dir:{node:{getattr:W.node_ops.getattr,setattr:W.node_ops.setattr,lookup:W.node_ops.lookup,mknod:W.node_ops.mknod,rename:W.node_ops.rename,unlink:W.node_ops.unlink,rmdir:W.node_ops.rmdir,readdir:W.node_ops.readdir,symlink:W.node_ops.symlink},stream:{llseek:W.stream_ops.llseek}},file:{node:{getattr:W.node_ops.getattr,setattr:W.node_ops.setattr},stream:{llseek:W.stream_ops.llseek,read:W.stream_ops.read,write:W.stream_ops.write,allocate:W.stream_ops.allocate,mmap:W.stream_ops.mmap,msync:W.stream_ops.msync}},link:{node:{getattr:W.node_ops.getattr,setattr:W.node_ops.setattr,readlink:W.node_ops.readlink},stream:{}},chrdev:{node:{getattr:W.node_ops.getattr,setattr:W.node_ops.setattr},stream:v.chrdev_stream_ops}});var a=v.createNode(e,r,t,n);return v.isDir(a.mode)?(a.node_ops=W.ops_table.dir.node,a.stream_ops=W.ops_table.dir.stream,a.contents={}):v.isFile(a.mode)?(a.node_ops=W.ops_table.file.node,a.stream_ops=W.ops_table.file.stream,a.usedBytes=0,a.contents=null):v.isLink(a.mode)?(a.node_ops=W.ops_table.link.node,a.stream_ops=W.ops_table.link.stream):v.isChrdev(a.mode)&&(a.node_ops=W.ops_table.chrdev.node,a.stream_ops=W.ops_table.chrdev.stream),a.timestamp=Date.now(),e&&(e.contents[r]=a,e.timestamp=a.timestamp),a},getFileDataAsTypedArray(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage(e,r){var t=e.contents?e.contents.length:0;if(!(t>=r)){var n=1024*1024;r=Math.max(r,t*(t<n?2:1.125)>>>0),t!=0&&(r=Math.max(r,256));var a=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(a.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,r){if(e.usedBytes!=r)if(r==0)e.contents=null,e.usedBytes=0;else{var t=e.contents;e.contents=new Uint8Array(r),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r}},node_ops:{getattr(e){var r={};return r.dev=v.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,v.isDir(e.mode)?r.size=4096:v.isFile(e.mode)?r.size=e.usedBytes:v.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr(e,r){r.mode!==void 0&&(e.mode=r.mode),r.timestamp!==void 0&&(e.timestamp=r.timestamp),r.size!==void 0&&W.resizeFileStorage(e,r.size)},lookup(e,r){throw v.genericErrors[44]},mknod(e,r,t,n){return W.createNode(e,r,t,n)},rename(e,r,t){if(v.isDir(e.mode)){var n;try{n=v.lookupNode(r,t)}catch{}if(n)for(var a in n.contents)throw new v.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=t,r.contents[t]=e,r.timestamp=e.parent.timestamp,e.parent=r},unlink(e,r){delete e.contents[r],e.timestamp=Date.now()},rmdir(e,r){var t=v.lookupNode(e,r);for(var n in t.contents)throw new v.ErrnoError(55);delete e.contents[r],e.timestamp=Date.now()},readdir(e){var r=[".",".."];for(var t in e.contents)e.contents.hasOwnProperty(t)&&r.push(t);return r},symlink(e,r,t){var n=W.createNode(e,r,41471,0);return n.link=t,n},readlink(e){if(!v.isLink(e.mode))throw new v.ErrnoError(28);return e.link}},stream_ops:{read(e,r,t,n,a){var u=e.node.contents;if(a>=e.node.usedBytes)return 0;var f=Math.min(e.node.usedBytes-a,n);if(f>8&&u.subarray)r.set(u.subarray(a,a+f),t);else for(var h=0;h<f;h++)r[t+h]=u[a+h];return f},write(e,r,t,n,a,u){if(r.buffer===te.buffer&&(u=!1),!n)return 0;var f=e.node;if(f.timestamp=Date.now(),r.subarray&&(!f.contents||f.contents.subarray)){if(u)return f.contents=r.subarray(t,t+n),f.usedBytes=n,n;if(f.usedBytes===0&&a===0)return f.contents=r.slice(t,t+n),f.usedBytes=n,n;if(a+n<=f.usedBytes)return f.contents.set(r.subarray(t,t+n),a),n}if(W.expandFileStorage(f,a+n),f.contents.subarray&&r.subarray)f.contents.set(r.subarray(t,t+n),a);else for(var h=0;h<n;h++)f.contents[a+h]=r[t+h];return f.usedBytes=Math.max(f.usedBytes,a+n),n},llseek(e,r,t){var n=r;if(t===1?n+=e.position:t===2&&v.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new v.ErrnoError(28);return n},allocate(e,r,t){W.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap(e,r,t,n,a){if(!v.isFile(e.node.mode))throw new v.ErrnoError(43);var u,f,h=e.node.contents;if(!(a&2)&&h.buffer===te.buffer)f=!1,u=h.byteOffset;else{if((t>0||t+r<h.length)&&(h.subarray?h=h.subarray(t,t+r):h=Array.prototype.slice.call(h,t,t+r)),f=!0,u=it(r),!u)throw new v.ErrnoError(48);te.set(h,u)}return{ptr:u,allocated:f}},msync(e,r,t,n,a){return W.stream_ops.write(e,r,0,n,t,!1),0}}},Dt=(e,r,t,n)=>{var a=n?"":`al ${e}`;Re(e,u=>{er(u,`Loading data file "${e}" failed (no arrayBuffer).`),r(new Uint8Array(u)),a&&tr()},u=>{if(t)t();else throw`Loading data file "${e}" failed.`}),a&&Te()},St=(e,r,t,n,a,u)=>v.createDataFile(e,r,t,n,a,u),Wr=l.preloadPlugins||[],c=(e,r,t,n)=>{typeof Browser<"u"&&Browser.init();var a=!1;return Wr.forEach(u=>{a||u.canHandle(r)&&(u.handle(e,r,t,n),a=!0)}),a},$=(e,r,t,n,a,u,f,h,E,k)=>{var M=r?ue.resolve(L.join2(e,r)):e;function P(b){function D(R){k&&k(),h||St(e,r,R,n,a,E),u&&u(),tr()}c(b,M,D,()=>{f&&f(),tr()})||D(b)}Te(),typeof t=="string"?Dt(t,b=>P(b),f):P(t)},d=e=>{var r={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},t=r[e];if(typeof t>"u")throw new Error(`Unknown file open mode: ${e}`);return t},J=(e,r)=>{var t=0;return e&&(t|=365),r&&(t|=146),t},v={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(e,r={}){if(e=ue.resolve(e),!e)return{path:"",node:null};var t={follow_mount:!0,recurse_count:0};if(r=Object.assign(t,r),r.recurse_count>8)throw new v.ErrnoError(32);for(var n=e.split("/").filter(P=>!!P),a=v.root,u="/",f=0;f<n.length;f++){var h=f===n.length-1;if(h&&r.parent)break;if(a=v.lookupNode(a,n[f]),u=L.join2(u,n[f]),v.isMountpoint(a)&&(!h||h&&r.follow_mount)&&(a=a.mounted.root),!h||r.follow)for(var E=0;v.isLink(a.mode);){var k=v.readlink(u);u=ue.resolve(L.dirname(u),k);var M=v.lookupPath(u,{recurse_count:r.recurse_count+1});if(a=M.node,E++>40)throw new v.ErrnoError(32)}}return{path:u,node:a}},getPath(e){for(var r;;){if(v.isRoot(e)){var t=e.mount.mountpoint;return r?t[t.length-1]!=="/"?`${t}/${r}`:t+r:t}r=r?`${e.name}/${r}`:e.name,e=e.parent}},hashName(e,r){for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%v.nameTable.length},hashAddNode(e){var r=v.hashName(e.parent.id,e.name);e.name_next=v.nameTable[r],v.nameTable[r]=e},hashRemoveNode(e){var r=v.hashName(e.parent.id,e.name);if(v.nameTable[r]===e)v.nameTable[r]=e.name_next;else for(var t=v.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode(e,r){var t=v.mayLookup(e);if(t)throw new v.ErrnoError(t,e);for(var n=v.hashName(e.id,r),a=v.nameTable[n];a;a=a.name_next){var u=a.name;if(a.parent.id===e.id&&u===r)return a}return v.lookup(e,r)},createNode(e,r,t,n){var a=new v.FSNode(e,r,t,n);return v.hashAddNode(a),a},destroyNode(e){v.hashRemoveNode(e)},isRoot(e){return e===e.parent},isMountpoint(e){return!!e.mounted},isFile(e){return(e&61440)===32768},isDir(e){return(e&61440)===16384},isLink(e){return(e&61440)===40960},isChrdev(e){return(e&61440)===8192},isBlkdev(e){return(e&61440)===24576},isFIFO(e){return(e&61440)===4096},isSocket(e){return(e&49152)===49152},flagsToPermissionString(e){var r=["r","w","rw"][e&3];return e&512&&(r+="w"),r},nodePermissions(e,r){return v.ignorePermissions?0:r.includes("r")&&!(e.mode&292)||r.includes("w")&&!(e.mode&146)||r.includes("x")&&!(e.mode&73)?2:0},mayLookup(e){var r=v.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate(e,r){try{var t=v.lookupNode(e,r);return 20}catch{}return v.nodePermissions(e,"wx")},mayDelete(e,r,t){var n;try{n=v.lookupNode(e,r)}catch(u){return u.errno}var a=v.nodePermissions(e,"wx");if(a)return a;if(t){if(!v.isDir(n.mode))return 54;if(v.isRoot(n)||v.getPath(n)===v.cwd())return 10}else if(v.isDir(n.mode))return 31;return 0},mayOpen(e,r){return e?v.isLink(e.mode)?32:v.isDir(e.mode)&&(v.flagsToPermissionString(r)!=="r"||r&512)?31:v.nodePermissions(e,v.flagsToPermissionString(r)):44},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=v.MAX_OPEN_FDS;e++)if(!v.streams[e])return e;throw new v.ErrnoError(33)},getStreamChecked(e){var r=v.getStream(e);if(!r)throw new v.ErrnoError(8);return r},getStream:e=>v.streams[e],createStream(e,r=-1){return v.FSStream||(v.FSStream=function(){this.shared={}},v.FSStream.prototype={},Object.defineProperties(v.FSStream.prototype,{object:{get(){return this.node},set(t){this.node=t}},isRead:{get(){return(this.flags&2097155)!==1}},isWrite:{get(){return(this.flags&2097155)!==0}},isAppend:{get(){return this.flags&1024}},flags:{get(){return this.shared.flags},set(t){this.shared.flags=t}},position:{get(){return this.shared.position},set(t){this.shared.position=t}}})),e=Object.assign(new v.FSStream,e),r==-1&&(r=v.nextfd()),e.fd=r,v.streams[r]=e,e},closeStream(e){v.streams[e]=null},chrdev_stream_ops:{open(e){var r=v.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek(){throw new v.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,r)=>e<<8|r,registerDevice(e,r){v.devices[e]={stream_ops:r}},getDevice:e=>v.devices[e],getMounts(e){for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push.apply(t,n.mounts)}return r},syncfs(e,r){typeof e=="function"&&(r=e,e=!1),v.syncFSRequests++,v.syncFSRequests>1&&me(`warning: ${v.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var t=v.getMounts(v.root.mount),n=0;function a(f){return v.syncFSRequests--,r(f)}function u(f){if(f)return u.errored?void 0:(u.errored=!0,a(f));++n>=t.length&&a(null)}t.forEach(f=>{if(!f.type.syncfs)return u(null);f.type.syncfs(f,e,u)})},mount(e,r,t){var n=t==="/",a=!t,u;if(n&&v.root)throw new v.ErrnoError(10);if(!n&&!a){var f=v.lookupPath(t,{follow_mount:!1});if(t=f.path,u=f.node,v.isMountpoint(u))throw new v.ErrnoError(10);if(!v.isDir(u.mode))throw new v.ErrnoError(54)}var h={type:e,opts:r,mountpoint:t,mounts:[]},E=e.mount(h);return E.mount=h,h.root=E,n?v.root=E:u&&(u.mounted=h,u.mount&&u.mount.mounts.push(h)),E},unmount(e){var r=v.lookupPath(e,{follow_mount:!1});if(!v.isMountpoint(r.node))throw new v.ErrnoError(28);var t=r.node,n=t.mounted,a=v.getMounts(n);Object.keys(v.nameTable).forEach(f=>{for(var h=v.nameTable[f];h;){var E=h.name_next;a.includes(h.mount)&&v.destroyNode(h),h=E}}),t.mounted=null;var u=t.mount.mounts.indexOf(n);t.mount.mounts.splice(u,1)},lookup(e,r){return e.node_ops.lookup(e,r)},mknod(e,r,t){var n=v.lookupPath(e,{parent:!0}),a=n.node,u=L.basename(e);if(!u||u==="."||u==="..")throw new v.ErrnoError(28);var f=v.mayCreate(a,u);if(f)throw new v.ErrnoError(f);if(!a.node_ops.mknod)throw new v.ErrnoError(63);return a.node_ops.mknod(a,u,r,t)},create(e,r){return r=r!==void 0?r:438,r&=4095,r|=32768,v.mknod(e,r,0)},mkdir(e,r){return r=r!==void 0?r:511,r&=1023,r|=16384,v.mknod(e,r,0)},mkdirTree(e,r){for(var t=e.split("/"),n="",a=0;a<t.length;++a)if(t[a]){n+="/"+t[a];try{v.mkdir(n,r)}catch(u){if(u.errno!=20)throw u}}},mkdev(e,r,t){return typeof t>"u"&&(t=r,r=438),r|=8192,v.mknod(e,r,t)},symlink(e,r){if(!ue.resolve(e))throw new v.ErrnoError(44);var t=v.lookupPath(r,{parent:!0}),n=t.node;if(!n)throw new v.ErrnoError(44);var a=L.basename(r),u=v.mayCreate(n,a);if(u)throw new v.ErrnoError(u);if(!n.node_ops.symlink)throw new v.ErrnoError(63);return n.node_ops.symlink(n,a,e)},rename(e,r){var t=L.dirname(e),n=L.dirname(r),a=L.basename(e),u=L.basename(r),f,h,E;if(f=v.lookupPath(e,{parent:!0}),h=f.node,f=v.lookupPath(r,{parent:!0}),E=f.node,!h||!E)throw new v.ErrnoError(44);if(h.mount!==E.mount)throw new v.ErrnoError(75);var k=v.lookupNode(h,a),M=ue.relative(e,n);if(M.charAt(0)!==".")throw new v.ErrnoError(28);if(M=ue.relative(r,t),M.charAt(0)!==".")throw new v.ErrnoError(55);var P;try{P=v.lookupNode(E,u)}catch{}if(k!==P){var b=v.isDir(k.mode),D=v.mayDelete(h,a,b);if(D)throw new v.ErrnoError(D);if(D=P?v.mayDelete(E,u,b):v.mayCreate(E,u),D)throw new v.ErrnoError(D);if(!h.node_ops.rename)throw new v.ErrnoError(63);if(v.isMountpoint(k)||P&&v.isMountpoint(P))throw new v.ErrnoError(10);if(E!==h&&(D=v.nodePermissions(h,"w"),D))throw new v.ErrnoError(D);v.hashRemoveNode(k);try{h.node_ops.rename(k,E,u)}catch(R){throw R}finally{v.hashAddNode(k)}}},rmdir(e){var r=v.lookupPath(e,{parent:!0}),t=r.node,n=L.basename(e),a=v.lookupNode(t,n),u=v.mayDelete(t,n,!0);if(u)throw new v.ErrnoError(u);if(!t.node_ops.rmdir)throw new v.ErrnoError(63);if(v.isMountpoint(a))throw new v.ErrnoError(10);t.node_ops.rmdir(t,n),v.destroyNode(a)},readdir(e){var r=v.lookupPath(e,{follow:!0}),t=r.node;if(!t.node_ops.readdir)throw new v.ErrnoError(54);return t.node_ops.readdir(t)},unlink(e){var r=v.lookupPath(e,{parent:!0}),t=r.node;if(!t)throw new v.ErrnoError(44);var n=L.basename(e),a=v.lookupNode(t,n),u=v.mayDelete(t,n,!1);if(u)throw new v.ErrnoError(u);if(!t.node_ops.unlink)throw new v.ErrnoError(63);if(v.isMountpoint(a))throw new v.ErrnoError(10);t.node_ops.unlink(t,n),v.destroyNode(a)},readlink(e){var r=v.lookupPath(e),t=r.node;if(!t)throw new v.ErrnoError(44);if(!t.node_ops.readlink)throw new v.ErrnoError(28);return ue.resolve(v.getPath(t.parent),t.node_ops.readlink(t))},stat(e,r){var t=v.lookupPath(e,{follow:!r}),n=t.node;if(!n)throw new v.ErrnoError(44);if(!n.node_ops.getattr)throw new v.ErrnoError(63);return n.node_ops.getattr(n)},lstat(e){return v.stat(e,!0)},chmod(e,r,t){var n;if(typeof e=="string"){var a=v.lookupPath(e,{follow:!t});n=a.node}else n=e;if(!n.node_ops.setattr)throw new v.ErrnoError(63);n.node_ops.setattr(n,{mode:r&4095|n.mode&-4096,timestamp:Date.now()})},lchmod(e,r){v.chmod(e,r,!0)},fchmod(e,r){var t=v.getStreamChecked(e);v.chmod(t.node,r)},chown(e,r,t,n){var a;if(typeof e=="string"){var u=v.lookupPath(e,{follow:!n});a=u.node}else a=e;if(!a.node_ops.setattr)throw new v.ErrnoError(63);a.node_ops.setattr(a,{timestamp:Date.now()})},lchown(e,r,t){v.chown(e,r,t,!0)},fchown(e,r,t){var n=v.getStreamChecked(e);v.chown(n.node,r,t)},truncate(e,r){if(r<0)throw new v.ErrnoError(28);var t;if(typeof e=="string"){var n=v.lookupPath(e,{follow:!0});t=n.node}else t=e;if(!t.node_ops.setattr)throw new v.ErrnoError(63);if(v.isDir(t.mode))throw new v.ErrnoError(31);if(!v.isFile(t.mode))throw new v.ErrnoError(28);var a=v.nodePermissions(t,"w");if(a)throw new v.ErrnoError(a);t.node_ops.setattr(t,{size:r,timestamp:Date.now()})},ftruncate(e,r){var t=v.getStreamChecked(e);if(!(t.flags&2097155))throw new v.ErrnoError(28);v.truncate(t.node,r)},utime(e,r,t){var n=v.lookupPath(e,{follow:!0}),a=n.node;a.node_ops.setattr(a,{timestamp:Math.max(r,t)})},open(e,r,t){if(e==="")throw new v.ErrnoError(44);r=typeof r=="string"?d(r):r,t=typeof t>"u"?438:t,r&64?t=t&4095|32768:t=0;var n;if(typeof e=="object")n=e;else{e=L.normalize(e);try{var a=v.lookupPath(e,{follow:!(r&131072)});n=a.node}catch{}}var u=!1;if(r&64)if(n){if(r&128)throw new v.ErrnoError(20)}else n=v.mknod(e,t,0),u=!0;if(!n)throw new v.ErrnoError(44);if(v.isChrdev(n.mode)&&(r&=-513),r&65536&&!v.isDir(n.mode))throw new v.ErrnoError(54);if(!u){var f=v.mayOpen(n,r);if(f)throw new v.ErrnoError(f)}r&512&&!u&&v.truncate(n,0),r&=-131713;var h=v.createStream({node:n,path:v.getPath(n),flags:r,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return h.stream_ops.open&&h.stream_ops.open(h),l.logReadFiles&&!(r&1)&&(v.readFiles||(v.readFiles={}),e in v.readFiles||(v.readFiles[e]=1)),h},close(e){if(v.isClosed(e))throw new v.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(r){throw r}finally{v.closeStream(e.fd)}e.fd=null},isClosed(e){return e.fd===null},llseek(e,r,t){if(v.isClosed(e))throw new v.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new v.ErrnoError(70);if(t!=0&&t!=1&&t!=2)throw new v.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read(e,r,t,n,a){if(n<0||a<0)throw new v.ErrnoError(28);if(v.isClosed(e))throw new v.ErrnoError(8);if((e.flags&2097155)===1)throw new v.ErrnoError(8);if(v.isDir(e.node.mode))throw new v.ErrnoError(31);if(!e.stream_ops.read)throw new v.ErrnoError(28);var u=typeof a<"u";if(!u)a=e.position;else if(!e.seekable)throw new v.ErrnoError(70);var f=e.stream_ops.read(e,r,t,n,a);return u||(e.position+=f),f},write(e,r,t,n,a,u){if(n<0||a<0)throw new v.ErrnoError(28);if(v.isClosed(e))throw new v.ErrnoError(8);if(!(e.flags&2097155))throw new v.ErrnoError(8);if(v.isDir(e.node.mode))throw new v.ErrnoError(31);if(!e.stream_ops.write)throw new v.ErrnoError(28);e.seekable&&e.flags&1024&&v.llseek(e,0,2);var f=typeof a<"u";if(!f)a=e.position;else if(!e.seekable)throw new v.ErrnoError(70);var h=e.stream_ops.write(e,r,t,n,a,u);return f||(e.position+=h),h},allocate(e,r,t){if(v.isClosed(e))throw new v.ErrnoError(8);if(r<0||t<=0)throw new v.ErrnoError(28);if(!(e.flags&2097155))throw new v.ErrnoError(8);if(!v.isFile(e.node.mode)&&!v.isDir(e.node.mode))throw new v.ErrnoError(43);if(!e.stream_ops.allocate)throw new v.ErrnoError(138);e.stream_ops.allocate(e,r,t)},mmap(e,r,t,n,a){if(n&2&&!(a&2)&&(e.flags&2097155)!==2)throw new v.ErrnoError(2);if((e.flags&2097155)===1)throw new v.ErrnoError(2);if(!e.stream_ops.mmap)throw new v.ErrnoError(43);return e.stream_ops.mmap(e,r,t,n,a)},msync(e,r,t,n,a){return e.stream_ops.msync?e.stream_ops.msync(e,r,t,n,a):0},munmap:e=>0,ioctl(e,r,t){if(!e.stream_ops.ioctl)throw new v.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile(e,r={}){if(r.flags=r.flags||0,r.encoding=r.encoding||"binary",r.encoding!=="utf8"&&r.encoding!=="binary")throw new Error(`Invalid encoding type "${r.encoding}"`);var t,n=v.open(e,r.flags),a=v.stat(e),u=a.size,f=new Uint8Array(u);return v.read(n,f,0,u,0),r.encoding==="utf8"?t=Ce(f,0):r.encoding==="binary"&&(t=f),v.close(n),t},writeFile(e,r,t={}){t.flags=t.flags||577;var n=v.open(e,t.flags,t.mode);if(typeof r=="string"){var a=new Uint8Array(be(r)+1),u=hr(r,a,0,a.length);v.write(n,a,0,u,void 0,t.canOwn)}else if(ArrayBuffer.isView(r))v.write(n,r,0,r.byteLength,void 0,t.canOwn);else throw new Error("Unsupported data type");v.close(n)},cwd:()=>v.currentPath,chdir(e){var r=v.lookupPath(e,{follow:!0});if(r.node===null)throw new v.ErrnoError(44);if(!v.isDir(r.node.mode))throw new v.ErrnoError(54);var t=v.nodePermissions(r.node,"x");if(t)throw new v.ErrnoError(t);v.currentPath=r.path},createDefaultDirectories(){v.mkdir("/tmp"),v.mkdir("/home"),v.mkdir("/home/web_user")},createDefaultDevices(){v.mkdir("/dev"),v.registerDevice(v.makedev(1,3),{read:()=>0,write:(n,a,u,f,h)=>f}),v.mkdev("/dev/null",v.makedev(1,3)),U.register(v.makedev(5,0),U.default_tty_ops),U.register(v.makedev(6,0),U.default_tty1_ops),v.mkdev("/dev/tty",v.makedev(5,0)),v.mkdev("/dev/tty1",v.makedev(6,0));var e=new Uint8Array(1024),r=0,t=()=>(r===0&&(r=mr(e).byteLength),e[--r]);v.createDevice("/dev","random",t),v.createDevice("/dev","urandom",t),v.mkdir("/dev/shm"),v.mkdir("/dev/shm/tmp")},createSpecialDirectories(){v.mkdir("/proc");var e=v.mkdir("/proc/self");v.mkdir("/proc/self/fd"),v.mount({mount(){var r=v.createNode(e,"fd",16895,73);return r.node_ops={lookup(t,n){var a=+n,u=v.getStreamChecked(a),f={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>u.path}};return f.parent=f,f}},r}},{},"/proc/self/fd")},createStandardStreams(){l.stdin?v.createDevice("/dev","stdin",l.stdin):v.symlink("/dev/tty","/dev/stdin"),l.stdout?v.createDevice("/dev","stdout",null,l.stdout):v.symlink("/dev/tty","/dev/stdout"),l.stderr?v.createDevice("/dev","stderr",null,l.stderr):v.symlink("/dev/tty1","/dev/stderr"),v.open("/dev/stdin",0),v.open("/dev/stdout",1),v.open("/dev/stderr",1)},ensureErrnoError(){v.ErrnoError||(v.ErrnoError=function(r,t){this.name="ErrnoError",this.node=t,this.setErrno=function(n){this.errno=n},this.setErrno(r),this.message="FS error"},v.ErrnoError.prototype=new Error,v.ErrnoError.prototype.constructor=v.ErrnoError,[44].forEach(e=>{v.genericErrors[e]=new v.ErrnoError(e),v.genericErrors[e].stack="<generic error, no stack>"}))},staticInit(){v.ensureErrnoError(),v.nameTable=new Array(4096),v.mount(W,{},"/"),v.createDefaultDirectories(),v.createDefaultDevices(),v.createSpecialDirectories(),v.filesystems={MEMFS:W}},init(e,r,t){v.init.initialized=!0,v.ensureErrnoError(),l.stdin=e||l.stdin,l.stdout=r||l.stdout,l.stderr=t||l.stderr,v.createStandardStreams()},quit(){v.init.initialized=!1;for(var e=0;e<v.streams.length;e++){var r=v.streams[e];r&&v.close(r)}},findObject(e,r){var t=v.analyzePath(e,r);return t.exists?t.object:null},analyzePath(e,r){try{var t=v.lookupPath(e,{follow:!r});e=t.path}catch{}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var t=v.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=t.path,n.parentObject=t.node,n.name=L.basename(e),t=v.lookupPath(e,{follow:!r}),n.exists=!0,n.path=t.path,n.object=t.node,n.name=t.node.name,n.isRoot=t.path==="/"}catch(a){n.error=a.errno}return n},createPath(e,r,t,n){e=typeof e=="string"?e:v.getPath(e);for(var a=r.split("/").reverse();a.length;){var u=a.pop();if(u){var f=L.join2(e,u);try{v.mkdir(f)}catch{}e=f}}return f},createFile(e,r,t,n,a){var u=L.join2(typeof e=="string"?e:v.getPath(e),r),f=J(n,a);return v.create(u,f)},createDataFile(e,r,t,n,a,u){var f=r;e&&(e=typeof e=="string"?e:v.getPath(e),f=r?L.join2(e,r):e);var h=J(n,a),E=v.create(f,h);if(t){if(typeof t=="string"){for(var k=new Array(t.length),M=0,P=t.length;M<P;++M)k[M]=t.charCodeAt(M);t=k}v.chmod(E,h|146);var b=v.open(E,577);v.write(b,t,0,t.length,0,u),v.close(b),v.chmod(E,h)}return E},createDevice(e,r,t,n){var a=L.join2(typeof e=="string"?e:v.getPath(e),r),u=J(!!t,!!n);v.createDevice.major||(v.createDevice.major=64);var f=v.makedev(v.createDevice.major++,0);return v.registerDevice(f,{open(h){h.seekable=!1},close(h){n&&n.buffer&&n.buffer.length&&n(10)},read(h,E,k,M,P){for(var b=0,D=0;D<M;D++){var R;try{R=t()}catch{throw new v.ErrnoError(29)}if(R===void 0&&b===0)throw new v.ErrnoError(6);if(R==null)break;b++,E[k+D]=R}return b&&(h.node.timestamp=Date.now()),b},write(h,E,k,M,P){for(var b=0;b<M;b++)try{n(E[k+b])}catch{throw new v.ErrnoError(29)}return M&&(h.node.timestamp=Date.now()),b}}),v.mkdev(a,u,f)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(Se)try{e.contents=ce(Se(e.url),!0),e.usedBytes=e.contents.length}catch{throw new v.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile(e,r,t,n,a){function u(){this.lengthKnown=!1,this.chunks=[]}if(u.prototype.get=function(D){if(!(D>this.length-1||D<0)){var R=D%this.chunkSize,I=D/this.chunkSize|0;return this.getter(I)[R]}},u.prototype.setDataGetter=function(D){this.getter=D},u.prototype.cacheLength=function(){var D=new XMLHttpRequest;if(D.open("HEAD",t,!1),D.send(null),!(D.status>=200&&D.status<300||D.status===304))throw new Error("Couldn't load "+t+". Status: "+D.status);var R=Number(D.getResponseHeader("Content-length")),I,le=(I=D.getResponseHeader("Accept-Ranges"))&&I==="bytes",re=(I=D.getResponseHeader("Content-Encoding"))&&I==="gzip",y=1024*1024;le||(y=R);var F=(O,ve)=>{if(O>ve)throw new Error("invalid range ("+O+", "+ve+") or no bytes requested!");if(ve>R-1)throw new Error("only "+R+" bytes available! programmer error!");var K=new XMLHttpRequest;if(K.open("GET",t,!1),R!==y&&K.setRequestHeader("Range","bytes="+O+"-"+ve),K.responseType="arraybuffer",K.overrideMimeType&&K.overrideMimeType("text/plain; charset=x-user-defined"),K.send(null),!(K.status>=200&&K.status<300||K.status===304))throw new Error("Couldn't load "+t+". Status: "+K.status);return K.response!==void 0?new Uint8Array(K.response||[]):ce(K.responseText||"",!0)},Z=this;Z.setDataGetter(O=>{var ve=O*y,K=(O+1)*y-1;if(K=Math.min(K,R-1),typeof Z.chunks[O]>"u"&&(Z.chunks[O]=F(ve,K)),typeof Z.chunks[O]>"u")throw new Error("doXHR failed!");return Z.chunks[O]}),(re||!R)&&(y=R=1,R=this.getter(0).length,y=R,Xe("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=R,this._chunkSize=y,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!ne)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var f=new u;Object.defineProperties(f,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var h={isDevice:!1,contents:f}}else var h={isDevice:!1,url:t};var E=v.createFile(e,r,h,n,a);h.contents?E.contents=h.contents:h.url&&(E.contents=null,E.url=h.url),Object.defineProperties(E,{usedBytes:{get:function(){return this.contents.length}}});var k={},M=Object.keys(E.stream_ops);M.forEach(b=>{var D=E.stream_ops[b];k[b]=function(){return v.forceLoadFile(E),D.apply(null,arguments)}});function P(b,D,R,I,le){var re=b.node.contents;if(le>=re.length)return 0;var y=Math.min(re.length-le,I);if(re.slice)for(var F=0;F<y;F++)D[R+F]=re[le+F];else for(var F=0;F<y;F++)D[R+F]=re.get(le+F);return y}return k.read=(b,D,R,I,le)=>(v.forceLoadFile(E),P(b,D,R,I,le)),k.mmap=(b,D,R,I,le)=>{v.forceLoadFile(E);var re=it(D);if(!re)throw new v.ErrnoError(48);return P(b,te,re,D,R),{ptr:re,allocated:!0}},E.stream_ops=k,E}},Q={DEFAULT_POLLMASK:5,calculateAt(e,r,t){if(L.isAbs(r))return r;var n;if(e===-100)n=v.cwd();else{var a=Q.getStreamFromFD(e);n=a.path}if(r.length==0){if(!t)throw new v.ErrnoError(44);return n}return L.join2(n,r)},doStat(e,r,t){try{var n=e(r)}catch(h){if(h&&h.node&&L.normalize(r)!==L.normalize(v.getPath(h.node)))return-54;throw h}S[t>>2]=n.dev,S[t+4>>2]=n.mode,B[t+8>>2]=n.nlink,S[t+12>>2]=n.uid,S[t+16>>2]=n.gid,S[t+20>>2]=n.rdev,q=[n.size>>>0,(T=n.size,+Math.abs(T)>=1?T>0?+Math.floor(T/4294967296)>>>0:~~+Math.ceil((T-+(~~T>>>0))/4294967296)>>>0:0)],S[t+24>>2]=q[0],S[t+28>>2]=q[1],S[t+32>>2]=4096,S[t+36>>2]=n.blocks;var a=n.atime.getTime(),u=n.mtime.getTime(),f=n.ctime.getTime();return q=[Math.floor(a/1e3)>>>0,(T=Math.floor(a/1e3),+Math.abs(T)>=1?T>0?+Math.floor(T/4294967296)>>>0:~~+Math.ceil((T-+(~~T>>>0))/4294967296)>>>0:0)],S[t+40>>2]=q[0],S[t+44>>2]=q[1],B[t+48>>2]=a%1e3*1e3,q=[Math.floor(u/1e3)>>>0,(T=Math.floor(u/1e3),+Math.abs(T)>=1?T>0?+Math.floor(T/4294967296)>>>0:~~+Math.ceil((T-+(~~T>>>0))/4294967296)>>>0:0)],S[t+56>>2]=q[0],S[t+60>>2]=q[1],B[t+64>>2]=u%1e3*1e3,q=[Math.floor(f/1e3)>>>0,(T=Math.floor(f/1e3),+Math.abs(T)>=1?T>0?+Math.floor(T/4294967296)>>>0:~~+Math.ceil((T-+(~~T>>>0))/4294967296)>>>0:0)],S[t+72>>2]=q[0],S[t+76>>2]=q[1],B[t+80>>2]=f%1e3*1e3,q=[n.ino>>>0,(T=n.ino,+Math.abs(T)>=1?T>0?+Math.floor(T/4294967296)>>>0:~~+Math.ceil((T-+(~~T>>>0))/4294967296)>>>0:0)],S[t+88>>2]=q[0],S[t+92>>2]=q[1],0},doMsync(e,r,t,n,a){if(!v.isFile(r.node.mode))throw new v.ErrnoError(43);if(n&2)return 0;var u=N.slice(e,e+t);v.msync(r,u,a,t,n)},varargs:void 0,get(){var e=S[+Q.varargs>>2];return Q.varargs+=4,e},getp(){return Q.get()},getStr(e){var r=H(e);return r},getStreamFromFD(e){var r=v.getStreamChecked(e);return r}};function Rt(e,r,t,n){try{if(r=Q.getStr(r),r=Q.calculateAt(e,r),t&-8)return-28;var a=v.lookupPath(r,{follow:!0}),u=a.node;if(!u)return-44;var f="";return t&4&&(f+="r"),t&2&&(f+="w"),t&1&&(f+="x"),f&&v.nodePermissions(u,f)?-2:0}catch(h){if(typeof v>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}var Yr=e=>(S[s()>>2]=e,e);function Mt(e,r,t){Q.varargs=t;try{var n=Q.getStreamFromFD(e);switch(r){case 0:{var a=Q.get();if(a<0)return-28;for(;v.streams[a];)a++;var u;return u=v.createStream(n,a),u.fd}case 1:case 2:return 0;case 3:return n.flags;case 4:{var a=Q.get();return n.flags|=a,0}case 5:{var a=Q.getp(),f=0;return ie[a+f>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Yr(28),-1;default:return-28}}catch(h){if(typeof v>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}var qr=(e,r,t)=>hr(e,N,r,t);function At(e,r){try{if(r===0)return-28;var t=v.cwd(),n=be(t)+1;return r<n?-68:(qr(t,e,r),n)}catch(a){if(typeof v>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function Tt(e,r,t){Q.varargs=t;try{var n=Q.getStreamFromFD(e);switch(r){case 21509:return n.tty?0:-59;case 21505:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tcgets){var a=n.tty.ops.ioctl_tcgets(n),u=Q.getp();S[u>>2]=a.c_iflag||0,S[u+4>>2]=a.c_oflag||0,S[u+8>>2]=a.c_cflag||0,S[u+12>>2]=a.c_lflag||0;for(var f=0;f<32;f++)te[u+f+17>>0]=a.c_cc[f]||0;return 0}return 0}case 21510:case 21511:case 21512:return n.tty?0:-59;case 21506:case 21507:case 21508:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tcsets){for(var u=Q.getp(),h=S[u>>2],E=S[u+4>>2],k=S[u+8>>2],M=S[u+12>>2],P=[],f=0;f<32;f++)P.push(te[u+f+17>>0]);return n.tty.ops.ioctl_tcsets(n.tty,r,{c_iflag:h,c_oflag:E,c_cflag:k,c_lflag:M,c_cc:P})}return 0}case 21519:{if(!n.tty)return-59;var u=Q.getp();return S[u>>2]=0,0}case 21520:return n.tty?-28:-59;case 21531:{var u=Q.getp();return v.ioctl(n,r,u)}case 21523:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tiocgwinsz){var b=n.tty.ops.ioctl_tiocgwinsz(n.tty),u=Q.getp();ie[u>>1]=b[0],ie[u+2>>1]=b[1]}return 0}case 21524:return n.tty?0:-59;case 21515:return n.tty?0:-59;default:return-28}}catch(D){if(typeof v>"u"||D.name!=="ErrnoError")throw D;return-D.errno}}function Pt(e,r,t,n){Q.varargs=n;try{r=Q.getStr(r),r=Q.calculateAt(e,r);var a=n?Q.get():0;return v.open(r,t,a).fd}catch(u){if(typeof v>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}function at(e,r){try{return e=Q.getStr(e),Q.doStat(v.stat,e,r)}catch(t){if(typeof v>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}var Lt=()=>{throw 1/0},Oe=e=>e%4===0&&(e%100!==0||e%400===0),st=[0,31,60,91,121,152,182,213,244,274,305,335],xt=[0,31,59,90,120,151,181,212,243,273,304,334],Ut=e=>{var r=Oe(e.getFullYear()),t=r?st:xt,n=t[e.getMonth()]+e.getDate()-1;return n},pr=(e,r)=>r+2097152>>>0<4194305-!!e?(e>>>0)+r*4294967296:NaN;function Ct(e,r,t){var n=pr(e,r),a=new Date(n*1e3);S[t>>2]=a.getSeconds(),S[t+4>>2]=a.getMinutes(),S[t+8>>2]=a.getHours(),S[t+12>>2]=a.getDate(),S[t+16>>2]=a.getMonth(),S[t+20>>2]=a.getFullYear()-1900,S[t+24>>2]=a.getDay();var u=Ut(a)|0;S[t+28>>2]=u,S[t+36>>2]=-(a.getTimezoneOffset()*60);var f=new Date(a.getFullYear(),0,1),h=new Date(a.getFullYear(),6,1).getTimezoneOffset(),E=f.getTimezoneOffset(),k=(h!=E&&a.getTimezoneOffset()==Math.min(E,h))|0;S[t+32>>2]=k}function lt(e,r,t,n,a,u,f,h){var E=pr(a,u);try{if(isNaN(E))return 61;var k=Q.getStreamFromFD(n),M=v.mmap(k,e,E,r,t),P=M.ptr;return S[f>>2]=M.allocated,B[h>>2]=P,0}catch(b){if(typeof v>"u"||b.name!=="ErrnoError")throw b;return-b.errno}}function Nt(e,r,t,n,a,u,f){var h=pr(u,f);try{if(isNaN(h))return 61;var E=Q.getStreamFromFD(a);t&2&&Q.doMsync(e,E,r,n,h),v.munmap(E)}catch(k){if(typeof v>"u"||k.name!=="ErrnoError")throw k;return-k.errno}}var ut=e=>{var r=be(e)+1,t=kr(r);return t&&qr(e,t,r),t},zt=(e,r,t)=>{var n=new Date().getFullYear(),a=new Date(n,0,1),u=new Date(n,6,1),f=a.getTimezoneOffset(),h=u.getTimezoneOffset(),E=Math.max(f,h);B[e>>2]=E*60,S[r>>2]=+(f!=h);function k(R){var I=R.toTimeString().match(/\(([A-Za-z ]+)\)$/);return I?I[1]:"GMT"}var M=k(a),P=k(u),b=ut(M),D=ut(P);h<f?(B[t>>2]=b,B[t+4>>2]=D):(B[t>>2]=D,B[t+4>>2]=b)},Ot=()=>{ye("")},Bt=()=>Date.now(),ft=()=>2147483648,It=()=>ft(),$r=(e,r,t)=>N.copyWithin(e,r,r+t),Ht=e=>{var r=ze.buffer,t=(e-r.byteLength+65535)/65536;try{return ze.grow(t),Mr(),1}catch{}},wr=e=>{var r=N.length;e>>>=0;var t=ft();if(e>t)return!1;for(var n=(E,k)=>E+(k-E%k)%k,a=1;a<=4;a*=2){var u=r*(1+.2/a);u=Math.min(u,e+100663296);var f=Math.min(t,n(Math.max(e,u),65536)),h=Ht(f);if(h)return!0}return!1},Vr={},jt=()=>$e||"./this.program",gr=()=>{if(!gr.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:jt()};for(var t in Vr)Vr[t]===void 0?delete r[t]:r[t]=Vr[t];var n=[];for(var t in r)n.push(`${t}=${r[t]}`);gr.strings=n}return gr.strings},Xt=(e,r)=>{for(var t=0;t<e.length;++t)te[r++>>0]=e.charCodeAt(t);te[r>>0]=0},Lr=(e,r)=>{var t=0;return gr().forEach((n,a)=>{var u=r+t;B[e+a*4>>2]=u,Xt(n,u),t+=n.length+1}),0},ct=(e,r)=>{var t=gr();B[e>>2]=t.length;var n=0;return t.forEach(a=>n+=a.length+1),B[r>>2]=n,0},Gr=0,dt=()=>sr||Gr>0,Wt=e=>{pe=e,dt()||(l.onExit&&l.onExit(e),dr=!0),_e(e,new Xr(e))},vt=(e,r)=>{pe=e,Wt(e)},Yt=vt;function mt(e){try{var r=Q.getStreamFromFD(e);return v.close(r),0}catch(t){if(typeof v>"u"||t.name!=="ErrnoError")throw t;return t.errno}}var ht=(e,r,t,n)=>{for(var a=0,u=0;u<t;u++){var f=B[r>>2],h=B[r+4>>2];r+=8;var E=v.read(e,te,f,h,n);if(E<0)return-1;if(a+=E,E<h)break;typeof n<"u"&&(n+=E)}return a};function xr(e,r,t,n){try{var a=Q.getStreamFromFD(e),u=ht(a,r,t);return B[n>>2]=u,0}catch(f){if(typeof v>"u"||f.name!=="ErrnoError")throw f;return f.errno}}function Ur(e,r,t,n,a){var u=pr(r,t);try{if(isNaN(u))return 61;var f=Q.getStreamFromFD(e);return v.llseek(f,u,n),q=[f.position>>>0,(T=f.position,+Math.abs(T)>=1?T>0?+Math.floor(T/4294967296)>>>0:~~+Math.ceil((T-+(~~T>>>0))/4294967296)>>>0:0)],S[a>>2]=q[0],S[a+4>>2]=q[1],f.getdents&&u===0&&n===0&&(f.getdents=null),0}catch(h){if(typeof v>"u"||h.name!=="ErrnoError")throw h;return h.errno}}var qt=(e,r,t,n)=>{for(var a=0,u=0;u<t;u++){var f=B[r>>2],h=B[r+4>>2];r+=8;var E=v.write(e,te,f,h,n);if(E<0)return-1;a+=E,typeof n<"u"&&(n+=E)}return a};function we(e,r,t,n){try{var a=Q.getStreamFromFD(e),u=qt(a,r,t);return B[n>>2]=u,0}catch(f){if(typeof v>"u"||f.name!=="ErrnoError")throw f;return f.errno}}function Cr(e,r,t){return Gt(e,r)}var Kr=(e,r)=>{for(var t=0,n=0;n<=r;t+=e[n++]);return t},Jr=[31,29,31,30,31,30,31,31,30,31,30,31],Nr=[31,28,31,30,31,30,31,31,30,31,30,31],zr=(e,r)=>{for(var t=new Date(e.getTime());r>0;){var n=Oe(t.getFullYear()),a=t.getMonth(),u=(n?Jr:Nr)[a];if(r>u-t.getDate())r-=u-t.getDate()+1,t.setDate(1),a<11?t.setMonth(a+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1));else return t.setDate(t.getDate()+r),t}return t},lr=(e,r)=>{te.set(e,r)},or=(e,r,t,n)=>{var a=B[n+40>>2],u={tm_sec:S[n>>2],tm_min:S[n+4>>2],tm_hour:S[n+8>>2],tm_mday:S[n+12>>2],tm_mon:S[n+16>>2],tm_year:S[n+20>>2],tm_wday:S[n+24>>2],tm_yday:S[n+28>>2],tm_isdst:S[n+32>>2],tm_gmtoff:S[n+36>>2],tm_zone:a?H(a):""},f=H(t),h={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var E in h)f=f.replace(new RegExp(E,"g"),h[E]);var k=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],M=["January","February","March","April","May","June","July","August","September","October","November","December"];function P(y,F,Z){for(var O=typeof y=="number"?y.toString():y||"";O.length<F;)O=Z[0]+O;return O}function b(y,F){return P(y,F,"0")}function D(y,F){function Z(ve){return ve<0?-1:ve>0?1:0}var O;return(O=Z(y.getFullYear()-F.getFullYear()))===0&&(O=Z(y.getMonth()-F.getMonth()))===0&&(O=Z(y.getDate()-F.getDate())),O}function R(y){switch(y.getDay()){case 0:return new Date(y.getFullYear()-1,11,29);case 1:return y;case 2:return new Date(y.getFullYear(),0,3);case 3:return new Date(y.getFullYear(),0,2);case 4:return new Date(y.getFullYear(),0,1);case 5:return new Date(y.getFullYear()-1,11,31);case 6:return new Date(y.getFullYear()-1,11,30)}}function I(y){var F=zr(new Date(y.tm_year+1900,0,1),y.tm_yday),Z=new Date(F.getFullYear(),0,4),O=new Date(F.getFullYear()+1,0,4),ve=R(Z),K=R(O);return D(ve,F)<=0?D(K,F)<=0?F.getFullYear()+1:F.getFullYear():F.getFullYear()-1}var le={"%a":y=>k[y.tm_wday].substring(0,3),"%A":y=>k[y.tm_wday],"%b":y=>M[y.tm_mon].substring(0,3),"%B":y=>M[y.tm_mon],"%C":y=>{var F=y.tm_year+1900;return b(F/100|0,2)},"%d":y=>b(y.tm_mday,2),"%e":y=>P(y.tm_mday,2," "),"%g":y=>I(y).toString().substring(2),"%G":y=>I(y),"%H":y=>b(y.tm_hour,2),"%I":y=>{var F=y.tm_hour;return F==0?F=12:F>12&&(F-=12),b(F,2)},"%j":y=>b(y.tm_mday+Kr(Oe(y.tm_year+1900)?Jr:Nr,y.tm_mon-1),3),"%m":y=>b(y.tm_mon+1,2),"%M":y=>b(y.tm_min,2),"%n":()=>`
`,"%p":y=>y.tm_hour>=0&&y.tm_hour<12?"AM":"PM","%S":y=>b(y.tm_sec,2),"%t":()=>"	","%u":y=>y.tm_wday||7,"%U":y=>{var F=y.tm_yday+7-y.tm_wday;return b(Math.floor(F/7),2)},"%V":y=>{var F=Math.floor((y.tm_yday+7-(y.tm_wday+6)%7)/7);if((y.tm_wday+371-y.tm_yday-2)%7<=2&&F++,F){if(F==53){var O=(y.tm_wday+371-y.tm_yday)%7;O!=4&&(O!=3||!Oe(y.tm_year))&&(F=1)}}else{F=52;var Z=(y.tm_wday+7-y.tm_yday-1)%7;(Z==4||Z==5&&Oe(y.tm_year%400-1))&&F++}return b(F,2)},"%w":y=>y.tm_wday,"%W":y=>{var F=y.tm_yday+7-(y.tm_wday+6)%7;return b(Math.floor(F/7),2)},"%y":y=>(y.tm_year+1900).toString().substring(2),"%Y":y=>y.tm_year+1900,"%z":y=>{var F=y.tm_gmtoff,Z=F>=0;return F=Math.abs(F)/60,F=F/60*100+F%60,(Z?"+":"-")+("0000"+F).slice(-4)},"%Z":y=>y.tm_zone,"%%":()=>"%"};f=f.replace(/%%/g,"\0\0");for(var E in le)f.includes(E)&&(f=f.replace(new RegExp(E,"g"),le[E](u)));f=f.replace(/\0\0/g,"%");var re=ce(f,!1);return re.length>r?0:(lr(re,e),re.length-1)},ur=(e,r,t,n,a)=>or(e,r,t,n),Zr=e=>{if(e instanceof Xr||e=="unwind")return pe;_e(1,e)},Be=e=>{var r=be(e)+1,t=_(r);return qr(e,t,r),t},yr=[],pt,Pe=e=>{var r=yr[e];return r||(e>=yr.length&&(yr.length=e+1),yr[e]=r=pt.get(e)),r},Qr=e=>{var r=l["_"+e];return r},Er=(e,r,t,n,a)=>{var u={string:R=>{var I=0;return R!=null&&R!==0&&(I=Be(R)),I},array:R=>{var I=_(R.length);return lr(R,I),I}};function f(R){return r==="string"?H(R):r==="boolean"?!!R:R}var h=Qr(e),E=[],k=0;if(n)for(var M=0;M<n.length;M++){var P=u[t[M]];P?(k===0&&(k=w()),E[M]=P(n[M])):E[M]=n[M]}var b=h.apply(null,E);function D(R){return k!==0&&g(k),f(R)}return b=D(b),b},fr=(e,r,t,n)=>{var a=!t||t.every(f=>f==="number"||f==="boolean"),u=r!=="string";return u&&a&&!n?Qr(e):function(){return Er(e,r,t,arguments)}},_r=function(e,r,t,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=v.nextInode++,this.name=r,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=n},fe=365,ir=146;Object.defineProperties(_r.prototype,{read:{get:function(){return(this.mode&fe)===fe},set:function(e){e?this.mode|=fe:this.mode&=~fe}},write:{get:function(){return(this.mode&ir)===ir},set:function(e){e?this.mode|=ir:this.mode&=~ir}},isFolder:{get:function(){return v.isDir(this.mode)}},isDevice:{get:function(){return v.isChrdev(this.mode)}}}),v.FSNode=_r,v.createPreloadedFile=$,v.staticInit();var Or={j:Ft,F:Rt,q:Mt,C:At,H:Tt,n:Pt,D:at,w:Lt,t:Ct,r:lt,s:Nt,y:zt,d:Ot,o:Bt,z:It,E:$r,x:wr,A:Lr,B:ct,g:Yt,m:mt,G:xr,u:Ur,p:we,i:A,c:Y,k:j,a:x,b:G,e:C,f:z,h:ae,I:Cr,l:or,v:ur},de=he(),kr=e=>(kr=de.L)(e),br=l._compileLaTeX=()=>(br=l._compileLaTeX=de.M)(),et=l._compileFormat=()=>(et=l._compileFormat=de.N)(),o=l._compileBibtex=()=>(o=l._compileBibtex=de.O)();l._setMainEntry=e=>(l._setMainEntry=de.P)(e);var i=l._main=(e,r)=>(i=l._main=de.Q)(e,r),s=()=>(s=de.S)(),m=(e,r)=>(m=de.T)(e,r),p=(e,r)=>(p=de.U)(e,r),w=()=>(w=de.V)(),g=e=>(g=de.W)(e),_=e=>(_=de.X)(e);function A(e,r){var t=w();try{return Pe(e)(r)}catch(n){if(g(t),n!==n+0)throw n;p(1,0)}}function C(e){var r=w();try{Pe(e)()}catch(t){if(g(r),t!==t+0)throw t;p(1,0)}}function Y(e,r,t){var n=w();try{return Pe(e)(r,t)}catch(a){if(g(n),a!==a+0)throw a;p(1,0)}}function G(e,r,t,n,a,u){var f=w();try{return Pe(e)(r,t,n,a,u)}catch(h){if(g(f),h!==h+0)throw h;p(1,0)}}function j(e,r,t,n){var a=w();try{return Pe(e)(r,t,n)}catch(u){if(g(a),u!==u+0)throw u;p(1,0)}}function x(e,r,t,n,a){var u=w();try{return Pe(e)(r,t,n,a)}catch(f){if(g(u),f!==f+0)throw f;p(1,0)}}function z(e,r){var t=w();try{Pe(e)(r)}catch(n){if(g(t),n!==n+0)throw n;p(1,0)}}function ae(e,r,t){var n=w();try{Pe(e)(r,t)}catch(a){if(g(n),a!==a+0)throw a;p(1,0)}}l.cwrap=fr;var Fe;Ue=function e(){Fe||ge(),Fe||(Ue=e)};function Ee(e=[]){var r=i;e.unshift($e);var t=e.length,n=_((t+1)*4),a=n;e.forEach(f=>{B[a>>2]=Be(f),a+=4}),B[a>>2]=0;try{var u=r(t,n);return vt(u,!0),u}catch(f){return Zr(f)}}function ge(e=qe){if(Ae>0||(gt(),Ae>0))return;function r(){Fe||(Fe=!0,l.calledRun=!0,!dr&&(yt(),Et(),Sr(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),De&&Ee(e),_t()))}l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),r()},1)):r()}if(l.preInit)for(typeof l.preInit=="function"&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var De=!0;l.noInitialRun&&(De=!1),ge();const Ie={PDFTEX:0,XETEX:1,DVIPDF:2};function Le(e){let r=kr(e.length);return N.set(new Uint8Array(e),r),r}function Je(){l.memLog="",l.memErrLog="",v.streams.forEach(e=>{!e||e.fd<=2||v.close(e)}),v.chdir(l.workRoot)}function se(e,r){Je(),fr("setMainEntry","number",["string"])(l.mainFile);let n=br;e===Ie.DVIPDF&&(n=_compilePDF);let a=n();if(a!==0)return{err:Error("Compilation failed, with status code "+a),log:l.memLog,errLog:l.memErrLog};try{o()}catch(h){console.error("Ignoring bibtex exceptions",h)}let u,f=l.workRoot+r;try{u=v.readFile(f,{encoding:"binary"})}catch(h){return h=h+`
Fetch content failed. `+f,console.error(h),{err:h,log:l.memLog,errLog:l.memErrLog}}return{data:u,log:l.memLog,errLog:l.memErrLog}}function Vt(e){Je();let r=et();if(r!==0){const a=Error("Compilation failed, with status code "+r);return console.error(a),{err:a,log:l.memLog,errLog:l.memErrLog}}let t,n=l.workRoot+e;try{t=v.readFile(n,{encoding:"binary"})}catch(a){return a=Error(a+`
Fetch content failed. `+n),console.error(a),{err:a,log:l.memLog,errLog:l.memErrLog}}return{data:t,log:l.memLog,errLog:l.memErrLog}}l.onRuntimeInitialized=function(){l.cacheRoot="/tex",l.workRoot="/work",l.memLog="",l.memErrLog="",l.initMem=void 0,l.mainFile="",l.texliveURL="https://texlive2.swiftlatex.com/",l.print=function(e){l.memLog+=e+`
`,console.log(e)},l.printErr=function(e){l.memErrLog+=e+`
`,console.error(e)},l.preRun.push(function(){v.mkdir(l.cacheRoot),v.mkdir(l.workRoot)}),l.onAbort=function(){l.memErrLog+=`Engine crashed
`},l.writeFile=function(e,r){try{e.startsWith("/")||(e="/"+e),v.writeFile(l.workRoot+e,r)}catch(t){return{err:t}}return{}},l.setMainFile=function(e){e.startsWith("/")||(e="/"+e),e=l.workRoot+e;let r=v.analyzePath(e,!1);if(r.exists&&v.isFile(v.stat(e).mode))l.mainFile=e;else{let t="Path must be an existing file.";return r.error&&r.error.message&&(t+=" "+r.error.message),{err:Error(t)}}return{}},l.flushCache=function(){try{v.unlink(l.workRoot),v.mkdir(l.workRoot)}catch(e){return{err:e}}return{}},l.mkdir=function(e){try{v.mkdir(l.workRoot+"/"+e)}catch(r){return{err:r}}return{}},l.setTexliveURL=function(e){return typeof e!="string"?{err:Error("Texlive URL must be a string value")}:(e.endsWith("/")||(e+="/"),l.texliveURL=e,{url:e})},l.compileXetex=function(){const e="/"+l.mainFile.substring(0,l.mainFile.length-4)+".xdv";return se(Ie.XETEX,e)},l.compileXetexFormat=function(){return Vt("/xelatex.fmt")},l.compileDviPDF=function(){const e="/"+l.mainFile.substring(0,l.mainFile.length-4)+".pdf";return se(Ie.DVIPDF,e)},l.compilePDFTex=function(){const e="/"+l.mainFile.substring(0,l.mainFile.length-4)+".pdf";return se(Ie.PDFTEX,e)},l.compilePDFTexFormat=function(){return Vt("/pdflatex.fmt")}},ne&&(self.onmessage=function(e){let r=e.data;const t=r.cmd;switch(t){case"compileXetex":self.postMessage({...l.compileXetex(),cmd:t});break;case"compileXetexFormat":self.postMessage({...l.compileXetexFormat(),cmd:t});break;case"compileDviPDF":self.postMessage({...l.compileDviPDF(),cmd:t});break;case"compilePDFTex":self.postMessage({...l.compilePDFTex(),cmd:t});break;case"setTexliveURL":self.postMessage({...l.setTexliveURL(r.url),cmd:t});break;case"fsMkdir":self.postMessage({...l.mkdir(r.dirname),cmd:t});break;case"fsWrite":self.postMessage({...l.writeFile(r.filePath,r.content),cmd:t});break;case"setMainFile":self.postMessage({...l.setMainFile(r.filePath),cmd:t});break;case"flushCache":self.postMessage({...l.flushCache(),cmd:t});break;default:self.postMessage({err:Error("Unknown command: "+t),cmd:t})}});let $t={},rt={};function Gt(e,r,t){let n=H(e);if(n.startsWith("/tex/")&&(n=n.substring(5)),n.includes("/"))return 0;const a=r+"/"+n;if(a in $t)return 0;if(a in rt){const h=rt[a];return Le(ce(h))}const u=l.texliveURL+"xetex/"+a;let f=new XMLHttpRequest;f.open("GET",u,!1),f.timeout=15e4,f.responseType="arraybuffer",console.log("Start downloading texlive file "+u);try{f.send()}catch{return console.log("TexLive Download Failed "+u),0}if(f.status===200){let h=f.response;const E=f.getResponseHeader("fileid"),k=l.cacheRoot+"/"+E;return v.writeFile(k,new Uint8Array(h)),rt[a]=k,Le(ce(k))}else if(f.status===301)return console.log("TexLive File not exists "+u),$t[a]=1,0;return 0}return Dr.ready}})(),Jt=(()=>{var Fr=typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:oe&&oe.src||new URL("swiftlatex.min.js",document.baseURI).href;return async function(Dr={}){var l=Dr,Sr,Ne;l.ready=new Promise((e,r)=>{Sr=e,Ne=r});var Rr=Object.assign({},l),qe=[],$e="./this.program",_e=(e,r)=>{throw r},ar=typeof window=="object",ne=typeof importScripts=="function",Ze=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",ee="";function cr(e){return l.locateFile?l.locateFile(e,ee):ee+e}var Se,Re,He;if(Ze){const{createRequire:e}=await import("module");var je=e(typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:oe&&oe.src||new URL("swiftlatex.min.js",document.baseURI).href),Qe=je("fs"),Me=je("path");ne?ee=Me.dirname(ee)+"/":ee=je("url").fileURLToPath(new URL("./",typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:oe&&oe.src||new URL("swiftlatex.min.js",document.baseURI).href)),Se=(r,t)=>(r=Ve(r)?new URL(r):Me.normalize(r),Qe.readFileSync(r,t?void 0:"utf8")),He=r=>{var t=Se(r,!0);return t.buffer||(t=new Uint8Array(t)),t},Re=(r,t,n,a=!0)=>{r=Ve(r)?new URL(r):Me.normalize(r),Qe.readFile(r,a?void 0:"utf8",(u,f)=>{u?n(u):t(a?f.buffer:f)})},!l.thisProgram&&process.argv.length>1&&($e=process.argv[1].replace(/\\/g,"/")),qe=process.argv.slice(2),_e=(r,t)=>{throw process.exitCode=r,t},l.inspect=()=>"[Emscripten Module object]"}else(ar||ne)&&(ne?ee=self.location.href:typeof document<"u"&&document.currentScript&&(ee=document.currentScript.src),Fr&&(ee=Fr),ee.indexOf("blob:")!==0?ee=ee.substr(0,ee.replace(/[?#].*/,"").lastIndexOf("/")+1):ee="",Se=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},ne&&(He=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),Re=(e,r,t)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{if(n.status==200||n.status==0&&n.response){r(n.response);return}t()},n.onerror=t,n.send(null)});var Xe=l.print||console.log.bind(console),me=l.printErr||console.error.bind(console);Object.assign(l,Rr),Rr=null,l.arguments&&(qe=l.arguments),l.thisProgram&&($e=l.thisProgram),l.quit&&(_e=l.quit);var xe;l.wasmBinary&&(xe=l.wasmBinary),typeof WebAssembly!="object"&&ye("no native wasm support detected");var ze,dr=!1,pe;function er(e,r){e||ye(r)}var te,N,ie,S,B;function Mr(){var e=ze.buffer;l.HEAP8=te=new Int8Array(e),l.HEAP16=ie=new Int16Array(e),l.HEAPU8=N=new Uint8Array(e),l.HEAPU16=new Uint16Array(e),l.HEAP32=S=new Int32Array(e),l.HEAPU32=B=new Uint32Array(e),l.HEAPF32=new Float32Array(e),l.HEAPF64=new Float64Array(e)}var Ir=[],Ar=[],wt=[],Hr=[];function gt(){if(l.preRun)for(typeof l.preRun=="function"&&(l.preRun=[l.preRun]);l.preRun.length;)kt(l.preRun.shift());Ge(Ir)}function yt(){!l.noFSInit&&!d.init.initialized&&d.init(),d.ignorePermissions=!1,Ge(Ar)}function Et(){Ge(wt)}function _t(){if(l.postRun)for(typeof l.postRun=="function"&&(l.postRun=[l.postRun]);l.postRun.length;)vr(l.postRun.shift());Ge(Hr)}function kt(e){Ir.unshift(e)}function rr(e){Ar.unshift(e)}function vr(e){Hr.unshift(e)}var Ae=0,Ue=null;function tt(e){return e}function Te(e){Ae++,l.monitorRunDependencies&&l.monitorRunDependencies(Ae)}function tr(e){if(Ae--,l.monitorRunDependencies&&l.monitorRunDependencies(Ae),Ae==0&&Ue){var r=Ue;Ue=null,r()}}function ye(e){l.onAbort&&l.onAbort(e),e="Aborted("+e+")",me(e),dr=!0,pe=1,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw Ne(r),r}var Tr="data:application/octet-stream;base64,",We=e=>e.startsWith(Tr),Ve=e=>e.startsWith("file://"),ke;l.locateFile?(ke="swiftlatexpdftex.wasm",We(ke)||(ke=cr(ke))):ke=new URL("swiftlatexpdftex.wasm",typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:oe&&oe.src||new URL("swiftlatex.min.js",document.baseURI).href).href;function Pr(e){if(e==ke&&xe)return new Uint8Array(xe);if(He)return He(e);throw"both async and sync fetching of the wasm failed"}function bt(e){if(!xe&&(ar||ne)){if(typeof fetch=="function"&&!Ve(e))return fetch(e,{credentials:"same-origin"}).then(r=>{if(!r.ok)throw"failed to load wasm binary file at '"+e+"'";return r.arrayBuffer()}).catch(()=>Pr(e));if(Re)return new Promise((r,t)=>{Re(e,n=>r(new Uint8Array(n)),t)})}return Promise.resolve().then(()=>Pr(e))}function jr(e,r,t){return bt(e).then(n=>WebAssembly.instantiate(n,r)).then(n=>n).then(t,n=>{me(`failed to asynchronously prepare wasm: ${n}`),ye(n)})}function V(e,r,t,n){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!We(r)&&!Ve(r)&&!Ze&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(a=>{var u=WebAssembly.instantiateStreaming(a,t);return u.then(n,function(f){return me(`wasm streaming compile failed: ${f}`),me("falling back to ArrayBuffer instantiation"),jr(r,t,n)})}):jr(r,t,n)}function he(){var e={a:_r};function r(n,a){return fe=n.exports,ze=fe.J,Mr(),Zr=fe.R,rr(fe.K),tr(),fe}Te();function t(n){r(n.instance)}if(l.instantiateWasm)try{return l.instantiateWasm(e,r)}catch(n){me(`Module.instantiateWasm callback failed with error: ${n}`),Ne(n)}return V(xe,ke,e,t).catch(Ne),{}}var T,q;function Xr(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}var Ge=e=>{for(;e.length>0;)e.shift()(l)},sr=l.noExitRuntime||!0,Ke=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ce=(e,r,t)=>{for(var n=r+t,a=r;e[a]&&!(a>=n);)++a;if(a-r>16&&e.buffer&&Ke)return Ke.decode(e.subarray(r,a));for(var u="";r<a;){var f=e[r++];if(!(f&128)){u+=String.fromCharCode(f);continue}var h=e[r++]&63;if((f&224)==192){u+=String.fromCharCode((f&31)<<6|h);continue}var E=e[r++]&63;if((f&240)==224?f=(f&15)<<12|h<<6|E:f=(f&7)<<18|h<<12|E<<6|e[r++]&63,f<65536)u+=String.fromCharCode(f);else{var k=f-65536;u+=String.fromCharCode(55296|k>>10,56320|k&1023)}}return u},H=(e,r)=>e?Ce(N,e,r):"",Ft=(e,r,t,n)=>{ye(`Assertion failed: ${H(e)}, at: `+[r?H(r):"unknown filename",t,n?H(n):"unknown function"])},L={isAbs:e=>e.charAt(0)==="/",splitPath:e=>{var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return r.exec(e).slice(1)},normalizeArray:(e,r)=>{for(var t=0,n=e.length-1;n>=0;n--){var a=e[n];a==="."?e.splice(n,1):a===".."?(e.splice(n,1),t++):t&&(e.splice(n,1),t--)}if(r)for(;t;t--)e.unshift("..");return e},normalize:e=>{var r=L.isAbs(e),t=e.substr(-1)==="/";return e=L.normalizeArray(e.split("/").filter(n=>!!n),!r).join("/"),!e&&!r&&(e="."),e&&t&&(e+="/"),(r?"/":"")+e},dirname:e=>{var r=L.splitPath(e),t=r[0],n=r[1];return!t&&!n?".":(n&&(n=n.substr(0,n.length-1)),t+n)},basename:e=>{if(e==="/")return"/";e=L.normalize(e),e=e.replace(/\/$/,"");var r=e.lastIndexOf("/");return r===-1?e:e.substr(r+1)},join:function(){var e=Array.prototype.slice.call(arguments);return L.normalize(e.join("/"))},join2:(e,r)=>L.normalize(e+"/"+r)},Ye=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return n=>crypto.getRandomValues(n);if(Ze)try{var e=je("crypto"),r=e.randomFillSync;if(r)return n=>e.randomFillSync(n);var t=e.randomBytes;return n=>(n.set(t(n.byteLength)),n)}catch{}ye("initRandomDevice")},mr=e=>(mr=Ye())(e),ue={resolve:function(){for(var e="",r=!1,t=arguments.length-1;t>=-1&&!r;t--){var n=t>=0?arguments[t]:d.cwd();if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!n)return"";e=n+"/"+e,r=L.isAbs(n)}return e=L.normalizeArray(e.split("/").filter(a=>!!a),!r).join("/"),(r?"/":"")+e||"."},relative:(e,r)=>{e=ue.resolve(e).substr(1),r=ue.resolve(r).substr(1);function t(k){for(var M=0;M<k.length&&k[M]==="";M++);for(var P=k.length-1;P>=0&&k[P]==="";P--);return M>P?[]:k.slice(M,P-M+1)}for(var n=t(e.split("/")),a=t(r.split("/")),u=Math.min(n.length,a.length),f=u,h=0;h<u;h++)if(n[h]!==a[h]){f=h;break}for(var E=[],h=f;h<n.length;h++)E.push("..");return E=E.concat(a.slice(f)),E.join("/")}},nr=[],be=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++t):r+=3}return r},hr=(e,r,t,n)=>{if(!(n>0))return 0;for(var a=t,u=t+n-1,f=0;f<e.length;++f){var h=e.charCodeAt(f);if(h>=55296&&h<=57343){var E=e.charCodeAt(++f);h=65536+((h&1023)<<10)|E&1023}if(h<=127){if(t>=u)break;r[t++]=h}else if(h<=2047){if(t+1>=u)break;r[t++]=192|h>>6,r[t++]=128|h&63}else if(h<=65535){if(t+2>=u)break;r[t++]=224|h>>12,r[t++]=128|h>>6&63,r[t++]=128|h&63}else{if(t+3>=u)break;r[t++]=240|h>>18,r[t++]=128|h>>12&63,r[t++]=128|h>>6&63,r[t++]=128|h&63}}return r[t]=0,t-a};function ce(e,r,t){var n=t>0?t:be(e)+1,a=new Array(n),u=hr(e,a,0,a.length);return r&&(a.length=u),a}var nt=()=>{if(!nr.length){var e=null;if(Ze){var r=256,t=Buffer.alloc(r),n=0,a=process.stdin.fd;try{n=Qe.readSync(a,t)}catch(u){if(u.toString().includes("EOF"))n=0;else throw u}n>0?e=t.slice(0,n).toString("utf-8"):e=null}else typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`));if(!e)return null;nr=ce(e,!0)}return nr.shift()},U={ttys:[],init(){},shutdown(){},register(e,r){U.ttys[e]={input:[],output:[],ops:r},d.registerDevice(e,U.stream_ops)},stream_ops:{open(e){var r=U.ttys[e.node.rdev];if(!r)throw new d.ErrnoError(43);e.tty=r,e.seekable=!1},close(e){e.tty.ops.fsync(e.tty)},fsync(e){e.tty.ops.fsync(e.tty)},read(e,r,t,n,a){if(!e.tty||!e.tty.ops.get_char)throw new d.ErrnoError(60);for(var u=0,f=0;f<n;f++){var h;try{h=e.tty.ops.get_char(e.tty)}catch{throw new d.ErrnoError(29)}if(h===void 0&&u===0)throw new d.ErrnoError(6);if(h==null)break;u++,r[t+f]=h}return u&&(e.node.timestamp=Date.now()),u},write(e,r,t,n,a){if(!e.tty||!e.tty.ops.put_char)throw new d.ErrnoError(60);try{for(var u=0;u<n;u++)e.tty.ops.put_char(e.tty,r[t+u])}catch{throw new d.ErrnoError(29)}return n&&(e.node.timestamp=Date.now()),u}},default_tty_ops:{get_char(e){return nt()},put_char(e,r){r===null||r===10?(Xe(Ce(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},fsync(e){e.output&&e.output.length>0&&(Xe(Ce(e.output,0)),e.output=[])},ioctl_tcgets(e){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(e,r,t){return 0},ioctl_tiocgwinsz(e){return[24,80]}},default_tty1_ops:{put_char(e,r){r===null||r===10?(me(Ce(e.output,0)),e.output=[]):r!=0&&e.output.push(r)},fsync(e){e.output&&e.output.length>0&&(me(Ce(e.output,0)),e.output=[])}}},ot=e=>{ye()},X={ops_table:null,mount(e){return X.createNode(null,"/",16895,0)},createNode(e,r,t,n){if(d.isBlkdev(t)||d.isFIFO(t))throw new d.ErrnoError(63);X.ops_table||(X.ops_table={dir:{node:{getattr:X.node_ops.getattr,setattr:X.node_ops.setattr,lookup:X.node_ops.lookup,mknod:X.node_ops.mknod,rename:X.node_ops.rename,unlink:X.node_ops.unlink,rmdir:X.node_ops.rmdir,readdir:X.node_ops.readdir,symlink:X.node_ops.symlink},stream:{llseek:X.stream_ops.llseek}},file:{node:{getattr:X.node_ops.getattr,setattr:X.node_ops.setattr},stream:{llseek:X.stream_ops.llseek,read:X.stream_ops.read,write:X.stream_ops.write,allocate:X.stream_ops.allocate,mmap:X.stream_ops.mmap,msync:X.stream_ops.msync}},link:{node:{getattr:X.node_ops.getattr,setattr:X.node_ops.setattr,readlink:X.node_ops.readlink},stream:{}},chrdev:{node:{getattr:X.node_ops.getattr,setattr:X.node_ops.setattr},stream:d.chrdev_stream_ops}});var a=d.createNode(e,r,t,n);return d.isDir(a.mode)?(a.node_ops=X.ops_table.dir.node,a.stream_ops=X.ops_table.dir.stream,a.contents={}):d.isFile(a.mode)?(a.node_ops=X.ops_table.file.node,a.stream_ops=X.ops_table.file.stream,a.usedBytes=0,a.contents=null):d.isLink(a.mode)?(a.node_ops=X.ops_table.link.node,a.stream_ops=X.ops_table.link.stream):d.isChrdev(a.mode)&&(a.node_ops=X.ops_table.chrdev.node,a.stream_ops=X.ops_table.chrdev.stream),a.timestamp=Date.now(),e&&(e.contents[r]=a,e.timestamp=a.timestamp),a},getFileDataAsTypedArray(e){return e.contents?e.contents.subarray?e.contents.subarray(0,e.usedBytes):new Uint8Array(e.contents):new Uint8Array(0)},expandFileStorage(e,r){var t=e.contents?e.contents.length:0;if(!(t>=r)){var n=1024*1024;r=Math.max(r,t*(t<n?2:1.125)>>>0),t!=0&&(r=Math.max(r,256));var a=e.contents;e.contents=new Uint8Array(r),e.usedBytes>0&&e.contents.set(a.subarray(0,e.usedBytes),0)}},resizeFileStorage(e,r){if(e.usedBytes!=r)if(r==0)e.contents=null,e.usedBytes=0;else{var t=e.contents;e.contents=new Uint8Array(r),t&&e.contents.set(t.subarray(0,Math.min(r,e.usedBytes))),e.usedBytes=r}},node_ops:{getattr(e){var r={};return r.dev=d.isChrdev(e.mode)?e.id:1,r.ino=e.id,r.mode=e.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=e.rdev,d.isDir(e.mode)?r.size=4096:d.isFile(e.mode)?r.size=e.usedBytes:d.isLink(e.mode)?r.size=e.link.length:r.size=0,r.atime=new Date(e.timestamp),r.mtime=new Date(e.timestamp),r.ctime=new Date(e.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr(e,r){r.mode!==void 0&&(e.mode=r.mode),r.timestamp!==void 0&&(e.timestamp=r.timestamp),r.size!==void 0&&X.resizeFileStorage(e,r.size)},lookup(e,r){throw d.genericErrors[44]},mknod(e,r,t,n){return X.createNode(e,r,t,n)},rename(e,r,t){if(d.isDir(e.mode)){var n;try{n=d.lookupNode(r,t)}catch{}if(n)for(var a in n.contents)throw new d.ErrnoError(55)}delete e.parent.contents[e.name],e.parent.timestamp=Date.now(),e.name=t,r.contents[t]=e,r.timestamp=e.parent.timestamp,e.parent=r},unlink(e,r){delete e.contents[r],e.timestamp=Date.now()},rmdir(e,r){var t=d.lookupNode(e,r);for(var n in t.contents)throw new d.ErrnoError(55);delete e.contents[r],e.timestamp=Date.now()},readdir(e){var r=[".",".."];for(var t in e.contents)e.contents.hasOwnProperty(t)&&r.push(t);return r},symlink(e,r,t){var n=X.createNode(e,r,41471,0);return n.link=t,n},readlink(e){if(!d.isLink(e.mode))throw new d.ErrnoError(28);return e.link}},stream_ops:{read(e,r,t,n,a){var u=e.node.contents;if(a>=e.node.usedBytes)return 0;var f=Math.min(e.node.usedBytes-a,n);if(f>8&&u.subarray)r.set(u.subarray(a,a+f),t);else for(var h=0;h<f;h++)r[t+h]=u[a+h];return f},write(e,r,t,n,a,u){if(r.buffer===te.buffer&&(u=!1),!n)return 0;var f=e.node;if(f.timestamp=Date.now(),r.subarray&&(!f.contents||f.contents.subarray)){if(u)return f.contents=r.subarray(t,t+n),f.usedBytes=n,n;if(f.usedBytes===0&&a===0)return f.contents=r.slice(t,t+n),f.usedBytes=n,n;if(a+n<=f.usedBytes)return f.contents.set(r.subarray(t,t+n),a),n}if(X.expandFileStorage(f,a+n),f.contents.subarray&&r.subarray)f.contents.set(r.subarray(t,t+n),a);else for(var h=0;h<n;h++)f.contents[a+h]=r[t+h];return f.usedBytes=Math.max(f.usedBytes,a+n),n},llseek(e,r,t){var n=r;if(t===1?n+=e.position:t===2&&d.isFile(e.node.mode)&&(n+=e.node.usedBytes),n<0)throw new d.ErrnoError(28);return n},allocate(e,r,t){X.expandFileStorage(e.node,r+t),e.node.usedBytes=Math.max(e.node.usedBytes,r+t)},mmap(e,r,t,n,a){if(!d.isFile(e.node.mode))throw new d.ErrnoError(43);var u,f,h=e.node.contents;if(!(a&2)&&h.buffer===te.buffer)f=!1,u=h.byteOffset;else{if((t>0||t+r<h.length)&&(h.subarray?h=h.subarray(t,t+r):h=Array.prototype.slice.call(h,t,t+r)),f=!0,u=ot(),!u)throw new d.ErrnoError(48);te.set(h,u)}return{ptr:u,allocated:f}},msync(e,r,t,n,a){return X.stream_ops.write(e,r,0,n,t,!1),0}}},it=(e,r,t,n)=>{var a=n?"":`al ${e}`;Re(e,u=>{er(u,`Loading data file "${e}" failed (no arrayBuffer).`),r(new Uint8Array(u)),a&&tr()},u=>{if(t)t();else throw`Loading data file "${e}" failed.`}),a&&Te()},W=(e,r,t,n,a,u)=>d.createDataFile(e,r,t,n,a,u),Dt=l.preloadPlugins||[],St=(e,r,t,n)=>{typeof Browser<"u"&&Browser.init();var a=!1;return Dt.forEach(u=>{a||u.canHandle(r)&&(u.handle(e,r,t,n),a=!0)}),a},Wr=(e,r,t,n,a,u,f,h,E,k)=>{var M=r?ue.resolve(L.join2(e,r)):e;function P(b){function D(R){k&&k(),h||W(e,r,R,n,a,E),u&&u(),tr()}St(b,M,D,()=>{f&&f(),tr()})||D(b)}Te(),typeof t=="string"?it(t,b=>P(b),f):P(t)},c=e=>{var r={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},t=r[e];if(typeof t>"u")throw new Error(`Unknown file open mode: ${e}`);return t},$=(e,r)=>{var t=0;return e&&(t|=365),r&&(t|=146),t},d={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(e,r={}){if(e=ue.resolve(e),!e)return{path:"",node:null};var t={follow_mount:!0,recurse_count:0};if(r=Object.assign(t,r),r.recurse_count>8)throw new d.ErrnoError(32);for(var n=e.split("/").filter(P=>!!P),a=d.root,u="/",f=0;f<n.length;f++){var h=f===n.length-1;if(h&&r.parent)break;if(a=d.lookupNode(a,n[f]),u=L.join2(u,n[f]),d.isMountpoint(a)&&(!h||h&&r.follow_mount)&&(a=a.mounted.root),!h||r.follow)for(var E=0;d.isLink(a.mode);){var k=d.readlink(u);u=ue.resolve(L.dirname(u),k);var M=d.lookupPath(u,{recurse_count:r.recurse_count+1});if(a=M.node,E++>40)throw new d.ErrnoError(32)}}return{path:u,node:a}},getPath(e){for(var r;;){if(d.isRoot(e)){var t=e.mount.mountpoint;return r?t[t.length-1]!=="/"?`${t}/${r}`:t+r:t}r=r?`${e.name}/${r}`:e.name,e=e.parent}},hashName(e,r){for(var t=0,n=0;n<r.length;n++)t=(t<<5)-t+r.charCodeAt(n)|0;return(e+t>>>0)%d.nameTable.length},hashAddNode(e){var r=d.hashName(e.parent.id,e.name);e.name_next=d.nameTable[r],d.nameTable[r]=e},hashRemoveNode(e){var r=d.hashName(e.parent.id,e.name);if(d.nameTable[r]===e)d.nameTable[r]=e.name_next;else for(var t=d.nameTable[r];t;){if(t.name_next===e){t.name_next=e.name_next;break}t=t.name_next}},lookupNode(e,r){var t=d.mayLookup(e);if(t)throw new d.ErrnoError(t,e);for(var n=d.hashName(e.id,r),a=d.nameTable[n];a;a=a.name_next){var u=a.name;if(a.parent.id===e.id&&u===r)return a}return d.lookup(e,r)},createNode(e,r,t,n){var a=new d.FSNode(e,r,t,n);return d.hashAddNode(a),a},destroyNode(e){d.hashRemoveNode(e)},isRoot(e){return e===e.parent},isMountpoint(e){return!!e.mounted},isFile(e){return(e&61440)===32768},isDir(e){return(e&61440)===16384},isLink(e){return(e&61440)===40960},isChrdev(e){return(e&61440)===8192},isBlkdev(e){return(e&61440)===24576},isFIFO(e){return(e&61440)===4096},isSocket(e){return(e&49152)===49152},flagsToPermissionString(e){var r=["r","w","rw"][e&3];return e&512&&(r+="w"),r},nodePermissions(e,r){return d.ignorePermissions?0:r.includes("r")&&!(e.mode&292)||r.includes("w")&&!(e.mode&146)||r.includes("x")&&!(e.mode&73)?2:0},mayLookup(e){var r=d.nodePermissions(e,"x");return r||(e.node_ops.lookup?0:2)},mayCreate(e,r){try{var t=d.lookupNode(e,r);return 20}catch{}return d.nodePermissions(e,"wx")},mayDelete(e,r,t){var n;try{n=d.lookupNode(e,r)}catch(u){return u.errno}var a=d.nodePermissions(e,"wx");if(a)return a;if(t){if(!d.isDir(n.mode))return 54;if(d.isRoot(n)||d.getPath(n)===d.cwd())return 10}else if(d.isDir(n.mode))return 31;return 0},mayOpen(e,r){return e?d.isLink(e.mode)?32:d.isDir(e.mode)&&(d.flagsToPermissionString(r)!=="r"||r&512)?31:d.nodePermissions(e,d.flagsToPermissionString(r)):44},MAX_OPEN_FDS:4096,nextfd(){for(var e=0;e<=d.MAX_OPEN_FDS;e++)if(!d.streams[e])return e;throw new d.ErrnoError(33)},getStreamChecked(e){var r=d.getStream(e);if(!r)throw new d.ErrnoError(8);return r},getStream:e=>d.streams[e],createStream(e,r=-1){return d.FSStream||(d.FSStream=function(){this.shared={}},d.FSStream.prototype={},Object.defineProperties(d.FSStream.prototype,{object:{get(){return this.node},set(t){this.node=t}},isRead:{get(){return(this.flags&2097155)!==1}},isWrite:{get(){return(this.flags&2097155)!==0}},isAppend:{get(){return this.flags&1024}},flags:{get(){return this.shared.flags},set(t){this.shared.flags=t}},position:{get(){return this.shared.position},set(t){this.shared.position=t}}})),e=Object.assign(new d.FSStream,e),r==-1&&(r=d.nextfd()),e.fd=r,d.streams[r]=e,e},closeStream(e){d.streams[e]=null},chrdev_stream_ops:{open(e){var r=d.getDevice(e.node.rdev);e.stream_ops=r.stream_ops,e.stream_ops.open&&e.stream_ops.open(e)},llseek(){throw new d.ErrnoError(70)}},major:e=>e>>8,minor:e=>e&255,makedev:(e,r)=>e<<8|r,registerDevice(e,r){d.devices[e]={stream_ops:r}},getDevice:e=>d.devices[e],getMounts(e){for(var r=[],t=[e];t.length;){var n=t.pop();r.push(n),t.push.apply(t,n.mounts)}return r},syncfs(e,r){typeof e=="function"&&(r=e,e=!1),d.syncFSRequests++,d.syncFSRequests>1&&me(`warning: ${d.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var t=d.getMounts(d.root.mount),n=0;function a(f){return d.syncFSRequests--,r(f)}function u(f){if(f)return u.errored?void 0:(u.errored=!0,a(f));++n>=t.length&&a(null)}t.forEach(f=>{if(!f.type.syncfs)return u(null);f.type.syncfs(f,e,u)})},mount(e,r,t){var n=t==="/",a=!t,u;if(n&&d.root)throw new d.ErrnoError(10);if(!n&&!a){var f=d.lookupPath(t,{follow_mount:!1});if(t=f.path,u=f.node,d.isMountpoint(u))throw new d.ErrnoError(10);if(!d.isDir(u.mode))throw new d.ErrnoError(54)}var h={type:e,opts:r,mountpoint:t,mounts:[]},E=e.mount(h);return E.mount=h,h.root=E,n?d.root=E:u&&(u.mounted=h,u.mount&&u.mount.mounts.push(h)),E},unmount(e){var r=d.lookupPath(e,{follow_mount:!1});if(!d.isMountpoint(r.node))throw new d.ErrnoError(28);var t=r.node,n=t.mounted,a=d.getMounts(n);Object.keys(d.nameTable).forEach(f=>{for(var h=d.nameTable[f];h;){var E=h.name_next;a.includes(h.mount)&&d.destroyNode(h),h=E}}),t.mounted=null;var u=t.mount.mounts.indexOf(n);t.mount.mounts.splice(u,1)},lookup(e,r){return e.node_ops.lookup(e,r)},mknod(e,r,t){var n=d.lookupPath(e,{parent:!0}),a=n.node,u=L.basename(e);if(!u||u==="."||u==="..")throw new d.ErrnoError(28);var f=d.mayCreate(a,u);if(f)throw new d.ErrnoError(f);if(!a.node_ops.mknod)throw new d.ErrnoError(63);return a.node_ops.mknod(a,u,r,t)},create(e,r){return r=r!==void 0?r:438,r&=4095,r|=32768,d.mknod(e,r,0)},mkdir(e,r){return r=r!==void 0?r:511,r&=1023,r|=16384,d.mknod(e,r,0)},mkdirTree(e,r){for(var t=e.split("/"),n="",a=0;a<t.length;++a)if(t[a]){n+="/"+t[a];try{d.mkdir(n,r)}catch(u){if(u.errno!=20)throw u}}},mkdev(e,r,t){return typeof t>"u"&&(t=r,r=438),r|=8192,d.mknod(e,r,t)},symlink(e,r){if(!ue.resolve(e))throw new d.ErrnoError(44);var t=d.lookupPath(r,{parent:!0}),n=t.node;if(!n)throw new d.ErrnoError(44);var a=L.basename(r),u=d.mayCreate(n,a);if(u)throw new d.ErrnoError(u);if(!n.node_ops.symlink)throw new d.ErrnoError(63);return n.node_ops.symlink(n,a,e)},rename(e,r){var t=L.dirname(e),n=L.dirname(r),a=L.basename(e),u=L.basename(r),f,h,E;if(f=d.lookupPath(e,{parent:!0}),h=f.node,f=d.lookupPath(r,{parent:!0}),E=f.node,!h||!E)throw new d.ErrnoError(44);if(h.mount!==E.mount)throw new d.ErrnoError(75);var k=d.lookupNode(h,a),M=ue.relative(e,n);if(M.charAt(0)!==".")throw new d.ErrnoError(28);if(M=ue.relative(r,t),M.charAt(0)!==".")throw new d.ErrnoError(55);var P;try{P=d.lookupNode(E,u)}catch{}if(k!==P){var b=d.isDir(k.mode),D=d.mayDelete(h,a,b);if(D)throw new d.ErrnoError(D);if(D=P?d.mayDelete(E,u,b):d.mayCreate(E,u),D)throw new d.ErrnoError(D);if(!h.node_ops.rename)throw new d.ErrnoError(63);if(d.isMountpoint(k)||P&&d.isMountpoint(P))throw new d.ErrnoError(10);if(E!==h&&(D=d.nodePermissions(h,"w"),D))throw new d.ErrnoError(D);d.hashRemoveNode(k);try{h.node_ops.rename(k,E,u)}catch(R){throw R}finally{d.hashAddNode(k)}}},rmdir(e){var r=d.lookupPath(e,{parent:!0}),t=r.node,n=L.basename(e),a=d.lookupNode(t,n),u=d.mayDelete(t,n,!0);if(u)throw new d.ErrnoError(u);if(!t.node_ops.rmdir)throw new d.ErrnoError(63);if(d.isMountpoint(a))throw new d.ErrnoError(10);t.node_ops.rmdir(t,n),d.destroyNode(a)},readdir(e){var r=d.lookupPath(e,{follow:!0}),t=r.node;if(!t.node_ops.readdir)throw new d.ErrnoError(54);return t.node_ops.readdir(t)},unlink(e){var r=d.lookupPath(e,{parent:!0}),t=r.node;if(!t)throw new d.ErrnoError(44);var n=L.basename(e),a=d.lookupNode(t,n),u=d.mayDelete(t,n,!1);if(u)throw new d.ErrnoError(u);if(!t.node_ops.unlink)throw new d.ErrnoError(63);if(d.isMountpoint(a))throw new d.ErrnoError(10);t.node_ops.unlink(t,n),d.destroyNode(a)},readlink(e){var r=d.lookupPath(e),t=r.node;if(!t)throw new d.ErrnoError(44);if(!t.node_ops.readlink)throw new d.ErrnoError(28);return ue.resolve(d.getPath(t.parent),t.node_ops.readlink(t))},stat(e,r){var t=d.lookupPath(e,{follow:!r}),n=t.node;if(!n)throw new d.ErrnoError(44);if(!n.node_ops.getattr)throw new d.ErrnoError(63);return n.node_ops.getattr(n)},lstat(e){return d.stat(e,!0)},chmod(e,r,t){var n;if(typeof e=="string"){var a=d.lookupPath(e,{follow:!t});n=a.node}else n=e;if(!n.node_ops.setattr)throw new d.ErrnoError(63);n.node_ops.setattr(n,{mode:r&4095|n.mode&-4096,timestamp:Date.now()})},lchmod(e,r){d.chmod(e,r,!0)},fchmod(e,r){var t=d.getStreamChecked(e);d.chmod(t.node,r)},chown(e,r,t,n){var a;if(typeof e=="string"){var u=d.lookupPath(e,{follow:!n});a=u.node}else a=e;if(!a.node_ops.setattr)throw new d.ErrnoError(63);a.node_ops.setattr(a,{timestamp:Date.now()})},lchown(e,r,t){d.chown(e,r,t,!0)},fchown(e,r,t){var n=d.getStreamChecked(e);d.chown(n.node,r,t)},truncate(e,r){if(r<0)throw new d.ErrnoError(28);var t;if(typeof e=="string"){var n=d.lookupPath(e,{follow:!0});t=n.node}else t=e;if(!t.node_ops.setattr)throw new d.ErrnoError(63);if(d.isDir(t.mode))throw new d.ErrnoError(31);if(!d.isFile(t.mode))throw new d.ErrnoError(28);var a=d.nodePermissions(t,"w");if(a)throw new d.ErrnoError(a);t.node_ops.setattr(t,{size:r,timestamp:Date.now()})},ftruncate(e,r){var t=d.getStreamChecked(e);if(!(t.flags&2097155))throw new d.ErrnoError(28);d.truncate(t.node,r)},utime(e,r,t){var n=d.lookupPath(e,{follow:!0}),a=n.node;a.node_ops.setattr(a,{timestamp:Math.max(r,t)})},open(e,r,t){if(e==="")throw new d.ErrnoError(44);r=typeof r=="string"?c(r):r,t=typeof t>"u"?438:t,r&64?t=t&4095|32768:t=0;var n;if(typeof e=="object")n=e;else{e=L.normalize(e);try{var a=d.lookupPath(e,{follow:!(r&131072)});n=a.node}catch{}}var u=!1;if(r&64)if(n){if(r&128)throw new d.ErrnoError(20)}else n=d.mknod(e,t,0),u=!0;if(!n)throw new d.ErrnoError(44);if(d.isChrdev(n.mode)&&(r&=-513),r&65536&&!d.isDir(n.mode))throw new d.ErrnoError(54);if(!u){var f=d.mayOpen(n,r);if(f)throw new d.ErrnoError(f)}r&512&&!u&&d.truncate(n,0),r&=-131713;var h=d.createStream({node:n,path:d.getPath(n),flags:r,seekable:!0,position:0,stream_ops:n.stream_ops,ungotten:[],error:!1});return h.stream_ops.open&&h.stream_ops.open(h),l.logReadFiles&&!(r&1)&&(d.readFiles||(d.readFiles={}),e in d.readFiles||(d.readFiles[e]=1)),h},close(e){if(d.isClosed(e))throw new d.ErrnoError(8);e.getdents&&(e.getdents=null);try{e.stream_ops.close&&e.stream_ops.close(e)}catch(r){throw r}finally{d.closeStream(e.fd)}e.fd=null},isClosed(e){return e.fd===null},llseek(e,r,t){if(d.isClosed(e))throw new d.ErrnoError(8);if(!e.seekable||!e.stream_ops.llseek)throw new d.ErrnoError(70);if(t!=0&&t!=1&&t!=2)throw new d.ErrnoError(28);return e.position=e.stream_ops.llseek(e,r,t),e.ungotten=[],e.position},read(e,r,t,n,a){if(n<0||a<0)throw new d.ErrnoError(28);if(d.isClosed(e))throw new d.ErrnoError(8);if((e.flags&2097155)===1)throw new d.ErrnoError(8);if(d.isDir(e.node.mode))throw new d.ErrnoError(31);if(!e.stream_ops.read)throw new d.ErrnoError(28);var u=typeof a<"u";if(!u)a=e.position;else if(!e.seekable)throw new d.ErrnoError(70);var f=e.stream_ops.read(e,r,t,n,a);return u||(e.position+=f),f},write(e,r,t,n,a,u){if(n<0||a<0)throw new d.ErrnoError(28);if(d.isClosed(e))throw new d.ErrnoError(8);if(!(e.flags&2097155))throw new d.ErrnoError(8);if(d.isDir(e.node.mode))throw new d.ErrnoError(31);if(!e.stream_ops.write)throw new d.ErrnoError(28);e.seekable&&e.flags&1024&&d.llseek(e,0,2);var f=typeof a<"u";if(!f)a=e.position;else if(!e.seekable)throw new d.ErrnoError(70);var h=e.stream_ops.write(e,r,t,n,a,u);return f||(e.position+=h),h},allocate(e,r,t){if(d.isClosed(e))throw new d.ErrnoError(8);if(r<0||t<=0)throw new d.ErrnoError(28);if(!(e.flags&2097155))throw new d.ErrnoError(8);if(!d.isFile(e.node.mode)&&!d.isDir(e.node.mode))throw new d.ErrnoError(43);if(!e.stream_ops.allocate)throw new d.ErrnoError(138);e.stream_ops.allocate(e,r,t)},mmap(e,r,t,n,a){if(n&2&&!(a&2)&&(e.flags&2097155)!==2)throw new d.ErrnoError(2);if((e.flags&2097155)===1)throw new d.ErrnoError(2);if(!e.stream_ops.mmap)throw new d.ErrnoError(43);return e.stream_ops.mmap(e,r,t,n,a)},msync(e,r,t,n,a){return e.stream_ops.msync?e.stream_ops.msync(e,r,t,n,a):0},munmap:e=>0,ioctl(e,r,t){if(!e.stream_ops.ioctl)throw new d.ErrnoError(59);return e.stream_ops.ioctl(e,r,t)},readFile(e,r={}){if(r.flags=r.flags||0,r.encoding=r.encoding||"binary",r.encoding!=="utf8"&&r.encoding!=="binary")throw new Error(`Invalid encoding type "${r.encoding}"`);var t,n=d.open(e,r.flags),a=d.stat(e),u=a.size,f=new Uint8Array(u);return d.read(n,f,0,u,0),r.encoding==="utf8"?t=Ce(f,0):r.encoding==="binary"&&(t=f),d.close(n),t},writeFile(e,r,t={}){t.flags=t.flags||577;var n=d.open(e,t.flags,t.mode);if(typeof r=="string"){var a=new Uint8Array(be(r)+1),u=hr(r,a,0,a.length);d.write(n,a,0,u,void 0,t.canOwn)}else if(ArrayBuffer.isView(r))d.write(n,r,0,r.byteLength,void 0,t.canOwn);else throw new Error("Unsupported data type");d.close(n)},cwd:()=>d.currentPath,chdir(e){var r=d.lookupPath(e,{follow:!0});if(r.node===null)throw new d.ErrnoError(44);if(!d.isDir(r.node.mode))throw new d.ErrnoError(54);var t=d.nodePermissions(r.node,"x");if(t)throw new d.ErrnoError(t);d.currentPath=r.path},createDefaultDirectories(){d.mkdir("/tmp"),d.mkdir("/home"),d.mkdir("/home/web_user")},createDefaultDevices(){d.mkdir("/dev"),d.registerDevice(d.makedev(1,3),{read:()=>0,write:(n,a,u,f,h)=>f}),d.mkdev("/dev/null",d.makedev(1,3)),U.register(d.makedev(5,0),U.default_tty_ops),U.register(d.makedev(6,0),U.default_tty1_ops),d.mkdev("/dev/tty",d.makedev(5,0)),d.mkdev("/dev/tty1",d.makedev(6,0));var e=new Uint8Array(1024),r=0,t=()=>(r===0&&(r=mr(e).byteLength),e[--r]);d.createDevice("/dev","random",t),d.createDevice("/dev","urandom",t),d.mkdir("/dev/shm"),d.mkdir("/dev/shm/tmp")},createSpecialDirectories(){d.mkdir("/proc");var e=d.mkdir("/proc/self");d.mkdir("/proc/self/fd"),d.mount({mount(){var r=d.createNode(e,"fd",16895,73);return r.node_ops={lookup(t,n){var a=+n,u=d.getStreamChecked(a),f={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>u.path}};return f.parent=f,f}},r}},{},"/proc/self/fd")},createStandardStreams(){l.stdin?d.createDevice("/dev","stdin",l.stdin):d.symlink("/dev/tty","/dev/stdin"),l.stdout?d.createDevice("/dev","stdout",null,l.stdout):d.symlink("/dev/tty","/dev/stdout"),l.stderr?d.createDevice("/dev","stderr",null,l.stderr):d.symlink("/dev/tty1","/dev/stderr"),d.open("/dev/stdin",0),d.open("/dev/stdout",1),d.open("/dev/stderr",1)},ensureErrnoError(){d.ErrnoError||(d.ErrnoError=function(r,t){this.name="ErrnoError",this.node=t,this.setErrno=function(n){this.errno=n},this.setErrno(r),this.message="FS error"},d.ErrnoError.prototype=new Error,d.ErrnoError.prototype.constructor=d.ErrnoError,[44].forEach(e=>{d.genericErrors[e]=new d.ErrnoError(e),d.genericErrors[e].stack="<generic error, no stack>"}))},staticInit(){d.ensureErrnoError(),d.nameTable=new Array(4096),d.mount(X,{},"/"),d.createDefaultDirectories(),d.createDefaultDevices(),d.createSpecialDirectories(),d.filesystems={MEMFS:X}},init(e,r,t){d.init.initialized=!0,d.ensureErrnoError(),l.stdin=e||l.stdin,l.stdout=r||l.stdout,l.stderr=t||l.stderr,d.createStandardStreams()},quit(){d.init.initialized=!1;for(var e=0;e<d.streams.length;e++){var r=d.streams[e];r&&d.close(r)}},findObject(e,r){var t=d.analyzePath(e,r);return t.exists?t.object:null},analyzePath(e,r){try{var t=d.lookupPath(e,{follow:!r});e=t.path}catch{}var n={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var t=d.lookupPath(e,{parent:!0});n.parentExists=!0,n.parentPath=t.path,n.parentObject=t.node,n.name=L.basename(e),t=d.lookupPath(e,{follow:!r}),n.exists=!0,n.path=t.path,n.object=t.node,n.name=t.node.name,n.isRoot=t.path==="/"}catch(a){n.error=a.errno}return n},createPath(e,r,t,n){e=typeof e=="string"?e:d.getPath(e);for(var a=r.split("/").reverse();a.length;){var u=a.pop();if(u){var f=L.join2(e,u);try{d.mkdir(f)}catch{}e=f}}return f},createFile(e,r,t,n,a){var u=L.join2(typeof e=="string"?e:d.getPath(e),r),f=$(n,a);return d.create(u,f)},createDataFile(e,r,t,n,a,u){var f=r;e&&(e=typeof e=="string"?e:d.getPath(e),f=r?L.join2(e,r):e);var h=$(n,a),E=d.create(f,h);if(t){if(typeof t=="string"){for(var k=new Array(t.length),M=0,P=t.length;M<P;++M)k[M]=t.charCodeAt(M);t=k}d.chmod(E,h|146);var b=d.open(E,577);d.write(b,t,0,t.length,0,u),d.close(b),d.chmod(E,h)}return E},createDevice(e,r,t,n){var a=L.join2(typeof e=="string"?e:d.getPath(e),r),u=$(!!t,!!n);d.createDevice.major||(d.createDevice.major=64);var f=d.makedev(d.createDevice.major++,0);return d.registerDevice(f,{open(h){h.seekable=!1},close(h){n&&n.buffer&&n.buffer.length&&n(10)},read(h,E,k,M,P){for(var b=0,D=0;D<M;D++){var R;try{R=t()}catch{throw new d.ErrnoError(29)}if(R===void 0&&b===0)throw new d.ErrnoError(6);if(R==null)break;b++,E[k+D]=R}return b&&(h.node.timestamp=Date.now()),b},write(h,E,k,M,P){for(var b=0;b<M;b++)try{n(E[k+b])}catch{throw new d.ErrnoError(29)}return M&&(h.node.timestamp=Date.now()),b}}),d.mkdev(a,u,f)},forceLoadFile(e){if(e.isDevice||e.isFolder||e.link||e.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(Se)try{e.contents=ce(Se(e.url),!0),e.usedBytes=e.contents.length}catch{throw new d.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile(e,r,t,n,a){function u(){this.lengthKnown=!1,this.chunks=[]}if(u.prototype.get=function(D){if(!(D>this.length-1||D<0)){var R=D%this.chunkSize,I=D/this.chunkSize|0;return this.getter(I)[R]}},u.prototype.setDataGetter=function(D){this.getter=D},u.prototype.cacheLength=function(){var D=new XMLHttpRequest;if(D.open("HEAD",t,!1),D.send(null),!(D.status>=200&&D.status<300||D.status===304))throw new Error("Couldn't load "+t+". Status: "+D.status);var R=Number(D.getResponseHeader("Content-length")),I,le=(I=D.getResponseHeader("Accept-Ranges"))&&I==="bytes",re=(I=D.getResponseHeader("Content-Encoding"))&&I==="gzip",y=1024*1024;le||(y=R);var F=(O,ve)=>{if(O>ve)throw new Error("invalid range ("+O+", "+ve+") or no bytes requested!");if(ve>R-1)throw new Error("only "+R+" bytes available! programmer error!");var K=new XMLHttpRequest;if(K.open("GET",t,!1),R!==y&&K.setRequestHeader("Range","bytes="+O+"-"+ve),K.responseType="arraybuffer",K.overrideMimeType&&K.overrideMimeType("text/plain; charset=x-user-defined"),K.send(null),!(K.status>=200&&K.status<300||K.status===304))throw new Error("Couldn't load "+t+". Status: "+K.status);return K.response!==void 0?new Uint8Array(K.response||[]):ce(K.responseText||"",!0)},Z=this;Z.setDataGetter(O=>{var ve=O*y,K=(O+1)*y-1;if(K=Math.min(K,R-1),typeof Z.chunks[O]>"u"&&(Z.chunks[O]=F(ve,K)),typeof Z.chunks[O]>"u")throw new Error("doXHR failed!");return Z.chunks[O]}),(re||!R)&&(y=R=1,R=this.getter(0).length,y=R,Xe("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=R,this._chunkSize=y,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!ne)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var f=new u;Object.defineProperties(f,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var h={isDevice:!1,contents:f}}else var h={isDevice:!1,url:t};var E=d.createFile(e,r,h,n,a);h.contents?E.contents=h.contents:h.url&&(E.contents=null,E.url=h.url),Object.defineProperties(E,{usedBytes:{get:function(){return this.contents.length}}});var k={},M=Object.keys(E.stream_ops);M.forEach(b=>{var D=E.stream_ops[b];k[b]=function(){return d.forceLoadFile(E),D.apply(null,arguments)}});function P(b,D,R,I,le){var re=b.node.contents;if(le>=re.length)return 0;var y=Math.min(re.length-le,I);if(re.slice)for(var F=0;F<y;F++)D[R+F]=re[le+F];else for(var F=0;F<y;F++)D[R+F]=re.get(le+F);return y}return k.read=(b,D,R,I,le)=>(d.forceLoadFile(E),P(b,D,R,I,le)),k.mmap=(b,D,R,I,le)=>{d.forceLoadFile(E);var re=ot();if(!re)throw new d.ErrnoError(48);return P(b,te,re,D,R),{ptr:re,allocated:!0}},E.stream_ops=k,E}},J={DEFAULT_POLLMASK:5,calculateAt(e,r,t){if(L.isAbs(r))return r;var n;if(e===-100)n=d.cwd();else{var a=J.getStreamFromFD(e);n=a.path}if(r.length==0){if(!t)throw new d.ErrnoError(44);return n}return L.join2(n,r)},doStat(e,r,t){try{var n=e(r)}catch(h){if(h&&h.node&&L.normalize(r)!==L.normalize(d.getPath(h.node)))return-54;throw h}S[t>>2]=n.dev,S[t+4>>2]=n.mode,B[t+8>>2]=n.nlink,S[t+12>>2]=n.uid,S[t+16>>2]=n.gid,S[t+20>>2]=n.rdev,q=[n.size>>>0,(T=n.size,+Math.abs(T)>=1?T>0?+Math.floor(T/4294967296)>>>0:~~+Math.ceil((T-+(~~T>>>0))/4294967296)>>>0:0)],S[t+24>>2]=q[0],S[t+28>>2]=q[1],S[t+32>>2]=4096,S[t+36>>2]=n.blocks;var a=n.atime.getTime(),u=n.mtime.getTime(),f=n.ctime.getTime();return q=[Math.floor(a/1e3)>>>0,(T=Math.floor(a/1e3),+Math.abs(T)>=1?T>0?+Math.floor(T/4294967296)>>>0:~~+Math.ceil((T-+(~~T>>>0))/4294967296)>>>0:0)],S[t+40>>2]=q[0],S[t+44>>2]=q[1],B[t+48>>2]=a%1e3*1e3,q=[Math.floor(u/1e3)>>>0,(T=Math.floor(u/1e3),+Math.abs(T)>=1?T>0?+Math.floor(T/4294967296)>>>0:~~+Math.ceil((T-+(~~T>>>0))/4294967296)>>>0:0)],S[t+56>>2]=q[0],S[t+60>>2]=q[1],B[t+64>>2]=u%1e3*1e3,q=[Math.floor(f/1e3)>>>0,(T=Math.floor(f/1e3),+Math.abs(T)>=1?T>0?+Math.floor(T/4294967296)>>>0:~~+Math.ceil((T-+(~~T>>>0))/4294967296)>>>0:0)],S[t+72>>2]=q[0],S[t+76>>2]=q[1],B[t+80>>2]=f%1e3*1e3,q=[n.ino>>>0,(T=n.ino,+Math.abs(T)>=1?T>0?+Math.floor(T/4294967296)>>>0:~~+Math.ceil((T-+(~~T>>>0))/4294967296)>>>0:0)],S[t+88>>2]=q[0],S[t+92>>2]=q[1],0},doMsync(e,r,t,n,a){if(!d.isFile(r.node.mode))throw new d.ErrnoError(43);if(n&2)return 0;var u=N.slice(e,e+t);d.msync(r,u,a,t,n)},varargs:void 0,get(){var e=S[+J.varargs>>2];return J.varargs+=4,e},getp(){return J.get()},getStr(e){var r=H(e);return r},getStreamFromFD(e){var r=d.getStreamChecked(e);return r}};function v(e,r,t,n){try{if(r=J.getStr(r),r=J.calculateAt(e,r),t&-8)return-28;var a=d.lookupPath(r,{follow:!0}),u=a.node;if(!u)return-44;var f="";return t&4&&(f+="r"),t&2&&(f+="w"),t&1&&(f+="x"),f&&d.nodePermissions(u,f)?-2:0}catch(h){if(typeof d>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}var Q=e=>(S[et()>>2]=e,e);function Rt(e,r,t){J.varargs=t;try{var n=J.getStreamFromFD(e);switch(r){case 0:{var a=J.get();if(a<0)return-28;for(;d.streams[a];)a++;var u;return u=d.createStream(n,a),u.fd}case 1:case 2:return 0;case 3:return n.flags;case 4:{var a=J.get();return n.flags|=a,0}case 5:{var a=J.getp(),f=0;return ie[a+f>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Q(28),-1;default:return-28}}catch(h){if(typeof d>"u"||h.name!=="ErrnoError")throw h;return-h.errno}}var Yr=(e,r,t)=>hr(e,N,r,t);function Mt(e,r){try{if(r===0)return-28;var t=d.cwd(),n=be(t)+1;return r<n?-68:(Yr(t,e,r),n)}catch(a){if(typeof d>"u"||a.name!=="ErrnoError")throw a;return-a.errno}}function qr(e,r,t){J.varargs=t;try{var n=J.getStreamFromFD(e);switch(r){case 21509:return n.tty?0:-59;case 21505:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tcgets){var a=n.tty.ops.ioctl_tcgets(n),u=J.getp();S[u>>2]=a.c_iflag||0,S[u+4>>2]=a.c_oflag||0,S[u+8>>2]=a.c_cflag||0,S[u+12>>2]=a.c_lflag||0;for(var f=0;f<32;f++)te[u+f+17>>0]=a.c_cc[f]||0;return 0}return 0}case 21510:case 21511:case 21512:return n.tty?0:-59;case 21506:case 21507:case 21508:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tcsets){for(var u=J.getp(),h=S[u>>2],E=S[u+4>>2],k=S[u+8>>2],M=S[u+12>>2],P=[],f=0;f<32;f++)P.push(te[u+f+17>>0]);return n.tty.ops.ioctl_tcsets(n.tty,r,{c_iflag:h,c_oflag:E,c_cflag:k,c_lflag:M,c_cc:P})}return 0}case 21519:{if(!n.tty)return-59;var u=J.getp();return S[u>>2]=0,0}case 21520:return n.tty?-28:-59;case 21531:{var u=J.getp();return d.ioctl(n,r,u)}case 21523:{if(!n.tty)return-59;if(n.tty.ops.ioctl_tiocgwinsz){var b=n.tty.ops.ioctl_tiocgwinsz(n.tty),u=J.getp();ie[u>>1]=b[0],ie[u+2>>1]=b[1]}return 0}case 21524:return n.tty?0:-59;case 21515:return n.tty?0:-59;default:return-28}}catch(D){if(typeof d>"u"||D.name!=="ErrnoError")throw D;return-D.errno}}function At(e,r,t,n){J.varargs=n;try{r=J.getStr(r),r=J.calculateAt(e,r);var a=n?J.get():0;return d.open(r,t,a).fd}catch(u){if(typeof d>"u"||u.name!=="ErrnoError")throw u;return-u.errno}}function Tt(e){try{return e=J.getStr(e),d.rmdir(e),0}catch(r){if(typeof d>"u"||r.name!=="ErrnoError")throw r;return-r.errno}}function Pt(e,r){try{return e=J.getStr(e),J.doStat(d.stat,e,r)}catch(t){if(typeof d>"u"||t.name!=="ErrnoError")throw t;return-t.errno}}function at(e,r,t){try{return r=J.getStr(r),r=J.calculateAt(e,r),t===0?d.unlink(r):t===512?d.rmdir(r):ye("Invalid flags passed to unlinkat"),0}catch(n){if(typeof d>"u"||n.name!=="ErrnoError")throw n;return-n.errno}}var Lt=()=>{throw 1/0},Oe=e=>e%4===0&&(e%100!==0||e%400===0),st=[0,31,60,91,121,152,182,213,244,274,305,335],xt=[0,31,59,90,120,151,181,212,243,273,304,334],Ut=e=>{var r=Oe(e.getFullYear()),t=r?st:xt,n=t[e.getMonth()]+e.getDate()-1;return n},pr=(e,r)=>r+2097152>>>0<4194305-!!e?(e>>>0)+r*4294967296:NaN;function Ct(e,r,t){var n=pr(e,r),a=new Date(n*1e3);S[t>>2]=a.getSeconds(),S[t+4>>2]=a.getMinutes(),S[t+8>>2]=a.getHours(),S[t+12>>2]=a.getDate(),S[t+16>>2]=a.getMonth(),S[t+20>>2]=a.getFullYear()-1900,S[t+24>>2]=a.getDay();var u=Ut(a)|0;S[t+28>>2]=u,S[t+36>>2]=-(a.getTimezoneOffset()*60);var f=new Date(a.getFullYear(),0,1),h=new Date(a.getFullYear(),6,1).getTimezoneOffset(),E=f.getTimezoneOffset(),k=(h!=E&&a.getTimezoneOffset()==Math.min(E,h))|0;S[t+32>>2]=k}var lt=e=>{var r=be(e)+1,t=ir(r);return t&&Yr(e,t,r),t},Nt=(e,r,t)=>{var n=new Date().getFullYear(),a=new Date(n,0,1),u=new Date(n,6,1),f=a.getTimezoneOffset(),h=u.getTimezoneOffset(),E=Math.max(f,h);B[e>>2]=E*60,S[r>>2]=+(f!=h);function k(R){var I=R.toTimeString().match(/\(([A-Za-z ]+)\)$/);return I?I[1]:"GMT"}var M=k(a),P=k(u),b=lt(M),D=lt(P);h<f?(B[t>>2]=b,B[t+4>>2]=D):(B[t>>2]=D,B[t+4>>2]=b)},ut=()=>{ye("")},zt=()=>Date.now(),Ot=(e,r,t)=>N.copyWithin(e,r,r+t),Bt=()=>2147483648,ft=e=>{var r=ze.buffer,t=(e-r.byteLength+65535)/65536;try{return ze.grow(t),Mr(),1}catch{}},It=e=>{var r=N.length;e>>>=0;var t=Bt();if(e>t)return!1;for(var n=(E,k)=>E+(k-E%k)%k,a=1;a<=4;a*=2){var u=r*(1+.2/a);u=Math.min(u,e+100663296);var f=Math.min(t,n(Math.max(e,u),65536)),h=ft(f);if(h)return!0}return!1},$r={},Ht=()=>$e||"./this.program",wr=()=>{if(!wr.strings){var e=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:e,_:Ht()};for(var t in $r)$r[t]===void 0?delete r[t]:r[t]=$r[t];var n=[];for(var t in r)n.push(`${t}=${r[t]}`);wr.strings=n}return wr.strings},Vr=(e,r)=>{for(var t=0;t<e.length;++t)te[r++>>0]=e.charCodeAt(t);te[r>>0]=0},jt=(e,r)=>{var t=0;return wr().forEach((n,a)=>{var u=r+t;B[e+a*4>>2]=u,Vr(n,u),t+=n.length+1}),0},gr=(e,r)=>{var t=wr();B[e>>2]=t.length;var n=0;return t.forEach(a=>n+=a.length+1),B[r>>2]=n,0},Xt=0,Lr=()=>sr||Xt>0,ct=e=>{pe=e,Lr()||(l.onExit&&l.onExit(e),dr=!0),_e(e,new Xr(e))},Gr=(e,r)=>{pe=e,ct(e)},dt=Gr;function Wt(e){try{var r=J.getStreamFromFD(e);return d.close(r),0}catch(t){if(typeof d>"u"||t.name!=="ErrnoError")throw t;return t.errno}}var vt=(e,r,t,n)=>{for(var a=0,u=0;u<t;u++){var f=B[r>>2],h=B[r+4>>2];r+=8;var E=d.read(e,te,f,h,n);if(E<0)return-1;if(a+=E,E<h)break;typeof n<"u"&&(n+=E)}return a};function Yt(e,r,t,n){try{var a=J.getStreamFromFD(e),u=vt(a,r,t);return B[n>>2]=u,0}catch(f){if(typeof d>"u"||f.name!=="ErrnoError")throw f;return f.errno}}function mt(e,r,t,n,a){var u=pr(r,t);try{if(isNaN(u))return 61;var f=J.getStreamFromFD(e);return d.llseek(f,u,n),q=[f.position>>>0,(T=f.position,+Math.abs(T)>=1?T>0?+Math.floor(T/4294967296)>>>0:~~+Math.ceil((T-+(~~T>>>0))/4294967296)>>>0:0)],S[a>>2]=q[0],S[a+4>>2]=q[1],f.getdents&&u===0&&n===0&&(f.getdents=null),0}catch(h){if(typeof d>"u"||h.name!=="ErrnoError")throw h;return h.errno}}var ht=(e,r,t,n)=>{for(var a=0,u=0;u<t;u++){var f=B[r>>2],h=B[r+4>>2];r+=8;var E=d.write(e,te,f,h,n);if(E<0)return-1;a+=E,typeof n<"u"&&(n+=E)}return a};function xr(e,r,t,n){try{var a=J.getStreamFromFD(e),u=ht(a,r,t);return B[n>>2]=u,0}catch(f){if(typeof d>"u"||f.name!=="ErrnoError")throw f;return f.errno}}function Ur(e,r,t){return Vt(e,r)}function qt(e,r){return Gt(e,r)}var we=(e,r)=>{for(var t=0,n=0;n<=r;t+=e[n++]);return t},Cr=[31,29,31,30,31,30,31,31,30,31,30,31],Kr=[31,28,31,30,31,30,31,31,30,31,30,31],Jr=(e,r)=>{for(var t=new Date(e.getTime());r>0;){var n=Oe(t.getFullYear()),a=t.getMonth(),u=(n?Cr:Kr)[a];if(r>u-t.getDate())r-=u-t.getDate()+1,t.setDate(1),a<11?t.setMonth(a+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1));else return t.setDate(t.getDate()+r),t}return t},Nr=(e,r)=>{te.set(e,r)},zr=(e,r,t,n)=>{var a=B[n+40>>2],u={tm_sec:S[n>>2],tm_min:S[n+4>>2],tm_hour:S[n+8>>2],tm_mday:S[n+12>>2],tm_mon:S[n+16>>2],tm_year:S[n+20>>2],tm_wday:S[n+24>>2],tm_yday:S[n+28>>2],tm_isdst:S[n+32>>2],tm_gmtoff:S[n+36>>2],tm_zone:a?H(a):""},f=H(t),h={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var E in h)f=f.replace(new RegExp(E,"g"),h[E]);var k=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],M=["January","February","March","April","May","June","July","August","September","October","November","December"];function P(y,F,Z){for(var O=typeof y=="number"?y.toString():y||"";O.length<F;)O=Z[0]+O;return O}function b(y,F){return P(y,F,"0")}function D(y,F){function Z(ve){return ve<0?-1:ve>0?1:0}var O;return(O=Z(y.getFullYear()-F.getFullYear()))===0&&(O=Z(y.getMonth()-F.getMonth()))===0&&(O=Z(y.getDate()-F.getDate())),O}function R(y){switch(y.getDay()){case 0:return new Date(y.getFullYear()-1,11,29);case 1:return y;case 2:return new Date(y.getFullYear(),0,3);case 3:return new Date(y.getFullYear(),0,2);case 4:return new Date(y.getFullYear(),0,1);case 5:return new Date(y.getFullYear()-1,11,31);case 6:return new Date(y.getFullYear()-1,11,30)}}function I(y){var F=Jr(new Date(y.tm_year+1900,0,1),y.tm_yday),Z=new Date(F.getFullYear(),0,4),O=new Date(F.getFullYear()+1,0,4),ve=R(Z),K=R(O);return D(ve,F)<=0?D(K,F)<=0?F.getFullYear()+1:F.getFullYear():F.getFullYear()-1}var le={"%a":y=>k[y.tm_wday].substring(0,3),"%A":y=>k[y.tm_wday],"%b":y=>M[y.tm_mon].substring(0,3),"%B":y=>M[y.tm_mon],"%C":y=>{var F=y.tm_year+1900;return b(F/100|0,2)},"%d":y=>b(y.tm_mday,2),"%e":y=>P(y.tm_mday,2," "),"%g":y=>I(y).toString().substring(2),"%G":y=>I(y),"%H":y=>b(y.tm_hour,2),"%I":y=>{var F=y.tm_hour;return F==0?F=12:F>12&&(F-=12),b(F,2)},"%j":y=>b(y.tm_mday+we(Oe(y.tm_year+1900)?Cr:Kr,y.tm_mon-1),3),"%m":y=>b(y.tm_mon+1,2),"%M":y=>b(y.tm_min,2),"%n":()=>`
`,"%p":y=>y.tm_hour>=0&&y.tm_hour<12?"AM":"PM","%S":y=>b(y.tm_sec,2),"%t":()=>"	","%u":y=>y.tm_wday||7,"%U":y=>{var F=y.tm_yday+7-y.tm_wday;return b(Math.floor(F/7),2)},"%V":y=>{var F=Math.floor((y.tm_yday+7-(y.tm_wday+6)%7)/7);if((y.tm_wday+371-y.tm_yday-2)%7<=2&&F++,F){if(F==53){var O=(y.tm_wday+371-y.tm_yday)%7;O!=4&&(O!=3||!Oe(y.tm_year))&&(F=1)}}else{F=52;var Z=(y.tm_wday+7-y.tm_yday-1)%7;(Z==4||Z==5&&Oe(y.tm_year%400-1))&&F++}return b(F,2)},"%w":y=>y.tm_wday,"%W":y=>{var F=y.tm_yday+7-(y.tm_wday+6)%7;return b(Math.floor(F/7),2)},"%y":y=>(y.tm_year+1900).toString().substring(2),"%Y":y=>y.tm_year+1900,"%z":y=>{var F=y.tm_gmtoff,Z=F>=0;return F=Math.abs(F)/60,F=F/60*100+F%60,(Z?"+":"-")+("0000"+F).slice(-4)},"%Z":y=>y.tm_zone,"%%":()=>"%"};f=f.replace(/%%/g,"\0\0");for(var E in le)f.includes(E)&&(f=f.replace(new RegExp(E,"g"),le[E](u)));f=f.replace(/\0\0/g,"%");var re=ce(f,!1);return re.length>r?0:(Nr(re,e),re.length-1)},lr=e=>{if(e instanceof Xr||e=="unwind")return pe;_e(1,e)},or=e=>{var r=be(e)+1,t=m(r);return Yr(e,t,r),t},ur=[],Zr,Be=e=>{var r=ur[e];return r||(e>=ur.length&&(ur.length=e+1),ur[e]=r=Zr.get(e)),r},yr=e=>{var r=l["_"+e];return r},pt=(e,r,t,n,a)=>{var u={string:R=>{var I=0;return R!=null&&R!==0&&(I=or(R)),I},array:R=>{var I=m(R.length);return Nr(R,I),I}};function f(R){return r==="string"?H(R):r==="boolean"?!!R:R}var h=yr(e),E=[],k=0;if(n)for(var M=0;M<n.length;M++){var P=u[t[M]];P?(k===0&&(k=i()),E[M]=P(n[M])):E[M]=n[M]}var b=h.apply(null,E);function D(R){return k!==0&&s(k),f(R)}return b=D(b),b},Pe=(e,r,t,n)=>{var a=!t||t.every(f=>f==="number"||f==="boolean"),u=r!=="string";return u&&a&&!n?yr(e):function(){return pt(e,r,t,arguments)}},Qr=function(e,r,t,n){e||(e=this),this.parent=e,this.mount=e.mount,this.mounted=null,this.id=d.nextInode++,this.name=r,this.mode=t,this.node_ops={},this.stream_ops={},this.rdev=n},Er=365,fr=146;Object.defineProperties(Qr.prototype,{read:{get:function(){return(this.mode&Er)===Er},set:function(e){e?this.mode|=Er:this.mode&=~Er}},write:{get:function(){return(this.mode&fr)===fr},set:function(e){e?this.mode|=fr:this.mode&=~fr}},isFolder:{get:function(){return d.isDir(this.mode)}},isDevice:{get:function(){return d.isChrdev(this.mode)}}}),d.FSNode=Qr,d.createPreloadedFile=Wr,d.staticInit();var _r={a:Ft,F:v,p:Rt,C:Mt,H:qr,D:At,y:Tt,x:Pt,z:at,u:Lt,s:Ct,w:Nt,f:ut,m:zt,E:Ot,v:It,A:jt,B:gr,l:dt,o:Wt,G:Yt,t:mt,n:xr,I:j,i:p,d:g,j:A,b:C,c:_,e:w,h:Y,g:G,r:Ur,q:qt,k:zr},fe=he(),ir=e=>(ir=fe.L)(e),Or=l._compileLaTeX=()=>(Or=l._compileLaTeX=fe.M)(),de=l._compileFormat=()=>(de=l._compileFormat=fe.N)(),kr=l._compileBibtex=()=>(kr=l._compileBibtex=fe.O)();l._setMainEntry=e=>(l._setMainEntry=fe.P)(e);var br=l._main=(e,r)=>(br=l._main=fe.Q)(e,r),et=()=>(et=fe.S)(),o=(e,r)=>(o=fe.T)(e,r),i=()=>(i=fe.U)(),s=e=>(s=fe.V)(e),m=e=>(m=fe.W)(e);function p(e,r){var t=i();try{return Be(e)(r)}catch(n){if(s(t),n!==n+0)throw n;o(1,0)}}function w(e){var r=i();try{Be(e)()}catch(t){if(s(r),t!==t+0)throw t;o(1,0)}}function g(e,r,t){var n=i();try{return Be(e)(r,t)}catch(a){if(s(n),a!==a+0)throw a;o(1,0)}}function _(e,r,t,n,a,u){var f=i();try{return Be(e)(r,t,n,a,u)}catch(h){if(s(f),h!==h+0)throw h;o(1,0)}}function A(e,r,t,n){var a=i();try{return Be(e)(r,t,n)}catch(u){if(s(a),u!==u+0)throw u;o(1,0)}}function C(e,r,t,n,a){var u=i();try{return Be(e)(r,t,n,a)}catch(f){if(s(u),f!==f+0)throw f;o(1,0)}}function Y(e,r){var t=i();try{Be(e)(r)}catch(n){if(s(t),n!==n+0)throw n;o(1,0)}}function G(e,r,t){var n=i();try{Be(e)(r,t)}catch(a){if(s(n),a!==a+0)throw a;o(1,0)}}function j(e){var r=i();try{return Be(e)()}catch(t){if(s(r),t!==t+0)throw t;o(1,0)}}l.cwrap=Pe;var x;Ue=function e(){x||ae(),x||(Ue=e)};function z(e=[]){var r=br;e.unshift($e);var t=e.length,n=m((t+1)*4),a=n;e.forEach(f=>{B[a>>2]=or(f),a+=4}),B[a>>2]=0;try{var u=r(t,n);return Gr(u,!0),u}catch(f){return lr(f)}}function ae(e=qe){if(Ae>0||(gt(),Ae>0))return;function r(){x||(x=!0,l.calledRun=!0,!dr&&(yt(),Et(),Sr(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),Fe&&z(e),_t()))}l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),r()},1)):r()}if(l.preInit)for(typeof l.preInit=="function"&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var Fe=!0;l.noInitialRun&&(Fe=!1),ae();const Ee={PDFTEX:0,XETEX:1,DVIPDF:2};function ge(e){let r=ir(e.length);return N.set(new Uint8Array(e),r),r}function De(){l.memLog="",l.memErrLog="",d.streams.forEach(e=>{!e||e.fd<=2||d.close(e)}),d.chdir(l.workRoot)}function Ie(e,r){De(),Pe("setMainEntry","number",["string"])(l.mainFile);let n=Or;e===Ee.DVIPDF&&(n=_compilePDF);let a=n();if(a!==0)return{err:Error("Compilation failed, with status code "+a),log:l.memLog,errLog:l.memErrLog};try{kr()}catch(h){console.error("Ignoring bibtex exceptions",h)}let u,f=l.workRoot+r;try{u=d.readFile(f,{encoding:"binary"})}catch(h){return h=h+`
Fetch content failed. `+f,console.error(h),{err:h,log:l.memLog,errLog:l.memErrLog}}return{data:u,log:l.memLog,errLog:l.memErrLog}}function Le(e){De();let r=de();if(r!==0){const a=Error("Compilation failed, with status code "+r);return console.error(a),{err:a,log:l.memLog,errLog:l.memErrLog}}let t,n=l.workRoot+e;try{t=d.readFile(n,{encoding:"binary"})}catch(a){return a=Error(a+`
Fetch content failed. `+n),console.error(a),{err:a,log:l.memLog,errLog:l.memErrLog}}return{data:t,log:l.memLog,errLog:l.memErrLog}}l.onRuntimeInitialized=function(){l.cacheRoot="/tex",l.workRoot="/work",l.memLog="",l.memErrLog="",l.initMem=void 0,l.mainFile="",l.texliveURL="https://texlive2.swiftlatex.com/",l.print=function(e){l.memLog+=e+`
`,console.log(e)},l.printErr=function(e){l.memErrLog+=e+`
`,console.error(e)},l.preRun.push(function(){d.mkdir(l.cacheRoot),d.mkdir(l.workRoot)}),l.onAbort=function(){l.memErrLog+=`Engine crashed
`},l.writeFile=function(e,r){try{e.startsWith("/")||(e="/"+e),d.writeFile(l.workRoot+e,r)}catch(t){return{err:t}}return{}},l.setMainFile=function(e){e.startsWith("/")||(e="/"+e),e=l.workRoot+e;let r=d.analyzePath(e,!1);if(r.exists&&d.isFile(d.stat(e).mode))l.mainFile=e;else{let t="Path must be an existing file.";return r.error&&r.error.message&&(t+=" "+r.error.message),{err:Error(t)}}return{}},l.flushCache=function(){try{d.unlink(l.workRoot),d.mkdir(l.workRoot)}catch(e){return{err:e}}return{}},l.mkdir=function(e){try{d.mkdir(l.workRoot+"/"+e)}catch(r){return{err:r}}return{}},l.setTexliveURL=function(e){return typeof e!="string"?{err:Error("Texlive URL must be a string value")}:(e.endsWith("/")||(e+="/"),l.texliveURL=e,{url:e})},l.compileXetex=function(){const e="/"+l.mainFile.substring(0,l.mainFile.length-4)+".xdv";return Ie(Ee.XETEX,e)},l.compileXetexFormat=function(){return Le("/xelatex.fmt")},l.compileDviPDF=function(){const e="/"+l.mainFile.substring(0,l.mainFile.length-4)+".pdf";return Ie(Ee.DVIPDF,e)},l.compilePDFTex=function(){const e="/"+l.mainFile.substring(0,l.mainFile.length-4)+".pdf";return Ie(Ee.PDFTEX,e)},l.compilePDFTexFormat=function(){return Le("/pdflatex.fmt")}},ne&&(self.onmessage=function(e){let r=e.data;const t=r.cmd;switch(t){case"compileXetex":self.postMessage({...l.compileXetex(),cmd:t});break;case"compileXetexFormat":self.postMessage({...l.compileXetexFormat(),cmd:t});break;case"compileDviPDF":self.postMessage({...l.compileDviPDF(),cmd:t});break;case"compilePDFTex":self.postMessage({...l.compilePDFTex(),cmd:t});break;case"setTexliveURL":self.postMessage({...l.setTexliveURL(r.url),cmd:t});break;case"fsMkdir":self.postMessage({...l.mkdir(r.dirname),cmd:t});break;case"fsWrite":self.postMessage({...l.writeFile(r.filePath,r.content),cmd:t});break;case"setMainFile":self.postMessage({...l.setMainFile(r.filePath),cmd:t});break;case"flushCache":self.postMessage({...l.flushCache(),cmd:t});break;default:self.postMessage({err:Error("Unknown command: "+t),cmd:t})}});let Je={},se={};function Vt(e,r,t){let n=H(e);if(n.startsWith("/tex/")&&(n=n.substring(5)),n.includes("/"))return 0;const a=r+"/"+n;if(a in Je)return 0;if(a in se){const h=se[a];return ge(ce(h))}const u=l.texliveURL+"xetex/"+a;let f=new XMLHttpRequest;f.open("GET",u,!1),f.timeout=15e4,f.responseType="arraybuffer",console.log("Start downloading texlive file "+u);try{f.send()}catch{return console.log("TexLive Download Failed "+u),0}if(f.status===200){let h=f.response;const E=f.getResponseHeader("fileid"),k=l.cacheRoot+"/"+E;return d.writeFile(k,new Uint8Array(h)),se[a]=k,ge(ce(k))}else if(f.status===301)return console.log("TexLive File not exists "+u),Je[a]=1,0;return 0}let $t={},rt={};function Gt(e,r){const t=H(e);if(t.includes("/"))return 0;const n=r+"/"+t;if(n in $t)return 0;if(n in rt){const f=rt[n];return ge(ce(f))}const a=l.texliveURL+"pdftex/pk/"+n;let u=new XMLHttpRequest;u.open("GET",a,!1),u.timeout=15e4,u.responseType="arraybuffer",console.log("Start downloading texlive file "+a);try{u.send()}catch{return console.log("TexLive Download Failed "+a),0}if(u.status===200){let f=u.response;const h=u.getResponseHeader("pkid"),E=l.cacheRoot+"/"+h;return d.writeFile(E,new Uint8Array(f)),rt[n]=E,ge(ce(E))}else if(u.status===301)return console.log("TexLive File not exists "+a),$t[n]=1,0;return 0}return Dr.ready}})(),Zt=(()=>{var Fr=typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:oe&&oe.src||new URL("swiftlatex.min.js",document.baseURI).href;return async function(Dr={}){var l=Dr,Sr,Ne;l.ready=new Promise((o,i)=>{Sr=o,Ne=i});var Rr=Object.assign({},l),qe=(o,i)=>{throw i},$e=typeof window=="object",_e=typeof importScripts=="function",ar=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",ne="";function Ze(o){return l.locateFile?l.locateFile(o,ne):ne+o}var ee,cr,Se;if(ar){const{createRequire:o}=await import("module");var Re=o(typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:oe&&oe.src||new URL("swiftlatex.min.js",document.baseURI).href),He=Re("fs"),je=Re("path");_e?ne=je.dirname(ne)+"/":ne=Re("url").fileURLToPath(new URL("./",typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:oe&&oe.src||new URL("swiftlatex.min.js",document.baseURI).href)),ee=(i,s)=>(i=Tr(i)?new URL(i):je.normalize(i),He.readFileSync(i,s?void 0:"utf8")),Se=i=>{var s=ee(i,!0);return s.buffer||(s=new Uint8Array(s)),s},cr=(i,s,m,p=!0)=>{i=Tr(i)?new URL(i):je.normalize(i),He.readFile(i,p?void 0:"utf8",(w,g)=>{w?m(w):s(p?g.buffer:g)})},!l.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),qe=(i,s)=>{throw process.exitCode=i,s},l.inspect=()=>"[Emscripten Module object]"}else($e||_e)&&(_e?ne=self.location.href:typeof document<"u"&&document.currentScript&&(ne=document.currentScript.src),Fr&&(ne=Fr),ne.indexOf("blob:")!==0?ne=ne.substr(0,ne.replace(/[?#].*/,"").lastIndexOf("/")+1):ne="",ee=o=>{var i=new XMLHttpRequest;return i.open("GET",o,!1),i.send(null),i.responseText},_e&&(Se=o=>{var i=new XMLHttpRequest;return i.open("GET",o,!1),i.responseType="arraybuffer",i.send(null),new Uint8Array(i.response)}),cr=(o,i,s)=>{var m=new XMLHttpRequest;m.open("GET",o,!0),m.responseType="arraybuffer",m.onload=()=>{if(m.status==200||m.status==0&&m.response){i(m.response);return}s()},m.onerror=s,m.send(null)});var Qe=l.print||console.log.bind(console),Me=l.printErr||console.error.bind(console);Object.assign(l,Rr),Rr=null,l.arguments&&l.arguments,l.thisProgram&&l.thisProgram,l.quit&&(qe=l.quit);var Xe;l.wasmBinary&&(Xe=l.wasmBinary),typeof WebAssembly!="object"&&Te("no native wasm support detected");var me,xe=!1,ze;function dr(o,i){o||Te(i)}var pe,er,te,N,ie;function S(){var o=me.buffer;l.HEAP8=pe=new Int8Array(o),l.HEAP16=te=new Int16Array(o),l.HEAPU8=er=new Uint8Array(o),l.HEAPU16=new Uint16Array(o),l.HEAP32=N=new Int32Array(o),l.HEAPU32=ie=new Uint32Array(o),l.HEAPF32=new Float32Array(o),l.HEAPF64=new Float64Array(o)}var B=[],Mr=[],Ir=[],Ar=[];function wt(){if(l.preRun)for(typeof l.preRun=="function"&&(l.preRun=[l.preRun]);l.preRun.length;)Et(l.preRun.shift());q(B)}function Hr(){!l.noFSInit&&!c.init.initialized&&c.init(),c.ignorePermissions=!1,q(Mr)}function gt(){q(Ir)}function yt(){if(l.postRun)for(typeof l.postRun=="function"&&(l.postRun=[l.postRun]);l.postRun.length;)kt(l.postRun.shift());q(Ar)}function Et(o){B.unshift(o)}function _t(o){Mr.unshift(o)}function kt(o){Ar.unshift(o)}var rr=0,vr=null;function Ae(o){return o}function Ue(o){rr++,l.monitorRunDependencies&&l.monitorRunDependencies(rr)}function tt(o){if(rr--,l.monitorRunDependencies&&l.monitorRunDependencies(rr),rr==0&&vr){var i=vr;vr=null,i()}}function Te(o){l.onAbort&&l.onAbort(o),o="Aborted("+o+")",Me(o),xe=!0,ze=1,o+=". Build with -sASSERTIONS for more info.";var i=new WebAssembly.RuntimeError(o);throw Ne(i),i}var tr="data:application/octet-stream;base64,",ye=o=>o.startsWith(tr),Tr=o=>o.startsWith("file://"),We;l.locateFile?(We="swiftlatexdvipdfm.wasm",ye(We)||(We=Ze(We))):We=new URL("swiftlatexdvipdfm.wasm",typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:oe&&oe.src||new URL("swiftlatex.min.js",document.baseURI).href).href;function Ve(o){if(o==We&&Xe)return new Uint8Array(Xe);if(Se)return Se(o);throw"both async and sync fetching of the wasm failed"}function ke(o){if(!Xe&&($e||_e)){if(typeof fetch=="function"&&!Tr(o))return fetch(o,{credentials:"same-origin"}).then(i=>{if(!i.ok)throw"failed to load wasm binary file at '"+o+"'";return i.arrayBuffer()}).catch(()=>Ve(o));if(cr)return new Promise((i,s)=>{cr(o,m=>i(new Uint8Array(m)),s)})}return Promise.resolve().then(()=>Ve(o))}function Pr(o,i,s){return ke(o).then(m=>WebAssembly.instantiate(m,i)).then(m=>m).then(s,m=>{Me(`failed to asynchronously prepare wasm: ${m}`),Te(m)})}function bt(o,i,s,m){return!o&&typeof WebAssembly.instantiateStreaming=="function"&&!ye(i)&&!Tr(i)&&!ar&&typeof fetch=="function"?fetch(i,{credentials:"same-origin"}).then(p=>{var w=WebAssembly.instantiateStreaming(p,s);return w.then(m,function(g){return Me(`wasm streaming compile failed: ${g}`),Me("falling back to ArrayBuffer instantiation"),Pr(i,s,m)})}):Pr(i,s,m)}function jr(){var o={a:qt};function i(m,p){return we=m.exports,me=we.z,S(),ct=we.C,_t(we.A),tt(),we}Ue();function s(m){i(m.instance)}if(l.instantiateWasm)try{return l.instantiateWasm(o,i)}catch(m){Me(`Module.instantiateWasm callback failed with error: ${m}`),Ne(m)}return bt(Xe,We,o,s).catch(Ne),{}}var V,he;function T(o){this.name="ExitStatus",this.message=`Program terminated with exit(${o})`,this.status=o}var q=o=>{for(;o.length>0;)o.shift()(l)},Xr=l.noExitRuntime||!0,Ge=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,sr=(o,i,s)=>{for(var m=i+s,p=i;o[p]&&!(p>=m);)++p;if(p-i>16&&o.buffer&&Ge)return Ge.decode(o.subarray(i,p));for(var w="";i<p;){var g=o[i++];if(!(g&128)){w+=String.fromCharCode(g);continue}var _=o[i++]&63;if((g&224)==192){w+=String.fromCharCode((g&31)<<6|_);continue}var A=o[i++]&63;if((g&240)==224?g=(g&15)<<12|_<<6|A:g=(g&7)<<18|_<<12|A<<6|o[i++]&63,g<65536)w+=String.fromCharCode(g);else{var C=g-65536;w+=String.fromCharCode(55296|C>>10,56320|C&1023)}}return w},Ke=(o,i)=>o?sr(er,o,i):"",Ce=(o,i,s,m)=>{Te(`Assertion failed: ${Ke(o)}, at: `+[i?Ke(i):"unknown filename",s,m?Ke(m):"unknown function"])},H={isAbs:o=>o.charAt(0)==="/",splitPath:o=>{var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return i.exec(o).slice(1)},normalizeArray:(o,i)=>{for(var s=0,m=o.length-1;m>=0;m--){var p=o[m];p==="."?o.splice(m,1):p===".."?(o.splice(m,1),s++):s&&(o.splice(m,1),s--)}if(i)for(;s;s--)o.unshift("..");return o},normalize:o=>{var i=H.isAbs(o),s=o.substr(-1)==="/";return o=H.normalizeArray(o.split("/").filter(m=>!!m),!i).join("/"),!o&&!i&&(o="."),o&&s&&(o+="/"),(i?"/":"")+o},dirname:o=>{var i=H.splitPath(o),s=i[0],m=i[1];return!s&&!m?".":(m&&(m=m.substr(0,m.length-1)),s+m)},basename:o=>{if(o==="/")return"/";o=H.normalize(o),o=o.replace(/\/$/,"");var i=o.lastIndexOf("/");return i===-1?o:o.substr(i+1)},join:function(){var o=Array.prototype.slice.call(arguments);return H.normalize(o.join("/"))},join2:(o,i)=>H.normalize(o+"/"+i)},Ft=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return m=>crypto.getRandomValues(m);if(ar)try{var o=Re("crypto"),i=o.randomFillSync;if(i)return m=>o.randomFillSync(m);var s=o.randomBytes;return m=>(m.set(s(m.byteLength)),m)}catch{}Te("initRandomDevice")},L=o=>(L=Ft())(o),Ye={resolve:function(){for(var o="",i=!1,s=arguments.length-1;s>=-1&&!i;s--){var m=s>=0?arguments[s]:c.cwd();if(typeof m!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!m)return"";o=m+"/"+o,i=H.isAbs(m)}return o=H.normalizeArray(o.split("/").filter(p=>!!p),!i).join("/"),(i?"/":"")+o||"."},relative:(o,i)=>{o=Ye.resolve(o).substr(1),i=Ye.resolve(i).substr(1);function s(C){for(var Y=0;Y<C.length&&C[Y]==="";Y++);for(var G=C.length-1;G>=0&&C[G]==="";G--);return Y>G?[]:C.slice(Y,G-Y+1)}for(var m=s(o.split("/")),p=s(i.split("/")),w=Math.min(m.length,p.length),g=w,_=0;_<w;_++)if(m[_]!==p[_]){g=_;break}for(var A=[],_=g;_<m.length;_++)A.push("..");return A=A.concat(p.slice(g)),A.join("/")}},mr=[],ue=o=>{for(var i=0,s=0;s<o.length;++s){var m=o.charCodeAt(s);m<=127?i++:m<=2047?i+=2:m>=55296&&m<=57343?(i+=4,++s):i+=3}return i},nr=(o,i,s,m)=>{if(!(m>0))return 0;for(var p=s,w=s+m-1,g=0;g<o.length;++g){var _=o.charCodeAt(g);if(_>=55296&&_<=57343){var A=o.charCodeAt(++g);_=65536+((_&1023)<<10)|A&1023}if(_<=127){if(s>=w)break;i[s++]=_}else if(_<=2047){if(s+1>=w)break;i[s++]=192|_>>6,i[s++]=128|_&63}else if(_<=65535){if(s+2>=w)break;i[s++]=224|_>>12,i[s++]=128|_>>6&63,i[s++]=128|_&63}else{if(s+3>=w)break;i[s++]=240|_>>18,i[s++]=128|_>>12&63,i[s++]=128|_>>6&63,i[s++]=128|_&63}}return i[s]=0,s-p};function be(o,i,s){var m=s>0?s:ue(o)+1,p=new Array(m),w=nr(o,p,0,p.length);return i&&(p.length=w),p}var hr=()=>{if(!mr.length){var o=null;if(ar){var i=256,s=Buffer.alloc(i),m=0,p=process.stdin.fd;try{m=He.readSync(p,s)}catch(w){if(w.toString().includes("EOF"))m=0;else throw w}m>0?o=s.slice(0,m).toString("utf-8"):o=null}else typeof window<"u"&&typeof window.prompt=="function"?(o=window.prompt("Input: "),o!==null&&(o+=`
`)):typeof readline=="function"&&(o=readline(),o!==null&&(o+=`
`));if(!o)return null;mr=be(o,!0)}return mr.shift()},ce={ttys:[],init(){},shutdown(){},register(o,i){ce.ttys[o]={input:[],output:[],ops:i},c.registerDevice(o,ce.stream_ops)},stream_ops:{open(o){var i=ce.ttys[o.node.rdev];if(!i)throw new c.ErrnoError(43);o.tty=i,o.seekable=!1},close(o){o.tty.ops.fsync(o.tty)},fsync(o){o.tty.ops.fsync(o.tty)},read(o,i,s,m,p){if(!o.tty||!o.tty.ops.get_char)throw new c.ErrnoError(60);for(var w=0,g=0;g<m;g++){var _;try{_=o.tty.ops.get_char(o.tty)}catch{throw new c.ErrnoError(29)}if(_===void 0&&w===0)throw new c.ErrnoError(6);if(_==null)break;w++,i[s+g]=_}return w&&(o.node.timestamp=Date.now()),w},write(o,i,s,m,p){if(!o.tty||!o.tty.ops.put_char)throw new c.ErrnoError(60);try{for(var w=0;w<m;w++)o.tty.ops.put_char(o.tty,i[s+w])}catch{throw new c.ErrnoError(29)}return m&&(o.node.timestamp=Date.now()),w}},default_tty_ops:{get_char(o){return hr()},put_char(o,i){i===null||i===10?(Qe(sr(o.output,0)),o.output=[]):i!=0&&o.output.push(i)},fsync(o){o.output&&o.output.length>0&&(Qe(sr(o.output,0)),o.output=[])},ioctl_tcgets(o){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(o,i,s){return 0},ioctl_tiocgwinsz(o){return[24,80]}},default_tty1_ops:{put_char(o,i){i===null||i===10?(Me(sr(o.output,0)),o.output=[]):i!=0&&o.output.push(i)},fsync(o){o.output&&o.output.length>0&&(Me(sr(o.output,0)),o.output=[])}}},nt=o=>{Te()},U={ops_table:null,mount(o){return U.createNode(null,"/",16895,0)},createNode(o,i,s,m){if(c.isBlkdev(s)||c.isFIFO(s))throw new c.ErrnoError(63);U.ops_table||(U.ops_table={dir:{node:{getattr:U.node_ops.getattr,setattr:U.node_ops.setattr,lookup:U.node_ops.lookup,mknod:U.node_ops.mknod,rename:U.node_ops.rename,unlink:U.node_ops.unlink,rmdir:U.node_ops.rmdir,readdir:U.node_ops.readdir,symlink:U.node_ops.symlink},stream:{llseek:U.stream_ops.llseek}},file:{node:{getattr:U.node_ops.getattr,setattr:U.node_ops.setattr},stream:{llseek:U.stream_ops.llseek,read:U.stream_ops.read,write:U.stream_ops.write,allocate:U.stream_ops.allocate,mmap:U.stream_ops.mmap,msync:U.stream_ops.msync}},link:{node:{getattr:U.node_ops.getattr,setattr:U.node_ops.setattr,readlink:U.node_ops.readlink},stream:{}},chrdev:{node:{getattr:U.node_ops.getattr,setattr:U.node_ops.setattr},stream:c.chrdev_stream_ops}});var p=c.createNode(o,i,s,m);return c.isDir(p.mode)?(p.node_ops=U.ops_table.dir.node,p.stream_ops=U.ops_table.dir.stream,p.contents={}):c.isFile(p.mode)?(p.node_ops=U.ops_table.file.node,p.stream_ops=U.ops_table.file.stream,p.usedBytes=0,p.contents=null):c.isLink(p.mode)?(p.node_ops=U.ops_table.link.node,p.stream_ops=U.ops_table.link.stream):c.isChrdev(p.mode)&&(p.node_ops=U.ops_table.chrdev.node,p.stream_ops=U.ops_table.chrdev.stream),p.timestamp=Date.now(),o&&(o.contents[i]=p,o.timestamp=p.timestamp),p},getFileDataAsTypedArray(o){return o.contents?o.contents.subarray?o.contents.subarray(0,o.usedBytes):new Uint8Array(o.contents):new Uint8Array(0)},expandFileStorage(o,i){var s=o.contents?o.contents.length:0;if(!(s>=i)){var m=1024*1024;i=Math.max(i,s*(s<m?2:1.125)>>>0),s!=0&&(i=Math.max(i,256));var p=o.contents;o.contents=new Uint8Array(i),o.usedBytes>0&&o.contents.set(p.subarray(0,o.usedBytes),0)}},resizeFileStorage(o,i){if(o.usedBytes!=i)if(i==0)o.contents=null,o.usedBytes=0;else{var s=o.contents;o.contents=new Uint8Array(i),s&&o.contents.set(s.subarray(0,Math.min(i,o.usedBytes))),o.usedBytes=i}},node_ops:{getattr(o){var i={};return i.dev=c.isChrdev(o.mode)?o.id:1,i.ino=o.id,i.mode=o.mode,i.nlink=1,i.uid=0,i.gid=0,i.rdev=o.rdev,c.isDir(o.mode)?i.size=4096:c.isFile(o.mode)?i.size=o.usedBytes:c.isLink(o.mode)?i.size=o.link.length:i.size=0,i.atime=new Date(o.timestamp),i.mtime=new Date(o.timestamp),i.ctime=new Date(o.timestamp),i.blksize=4096,i.blocks=Math.ceil(i.size/i.blksize),i},setattr(o,i){i.mode!==void 0&&(o.mode=i.mode),i.timestamp!==void 0&&(o.timestamp=i.timestamp),i.size!==void 0&&U.resizeFileStorage(o,i.size)},lookup(o,i){throw c.genericErrors[44]},mknod(o,i,s,m){return U.createNode(o,i,s,m)},rename(o,i,s){if(c.isDir(o.mode)){var m;try{m=c.lookupNode(i,s)}catch{}if(m)for(var p in m.contents)throw new c.ErrnoError(55)}delete o.parent.contents[o.name],o.parent.timestamp=Date.now(),o.name=s,i.contents[s]=o,i.timestamp=o.parent.timestamp,o.parent=i},unlink(o,i){delete o.contents[i],o.timestamp=Date.now()},rmdir(o,i){var s=c.lookupNode(o,i);for(var m in s.contents)throw new c.ErrnoError(55);delete o.contents[i],o.timestamp=Date.now()},readdir(o){var i=[".",".."];for(var s in o.contents)o.contents.hasOwnProperty(s)&&i.push(s);return i},symlink(o,i,s){var m=U.createNode(o,i,41471,0);return m.link=s,m},readlink(o){if(!c.isLink(o.mode))throw new c.ErrnoError(28);return o.link}},stream_ops:{read(o,i,s,m,p){var w=o.node.contents;if(p>=o.node.usedBytes)return 0;var g=Math.min(o.node.usedBytes-p,m);if(g>8&&w.subarray)i.set(w.subarray(p,p+g),s);else for(var _=0;_<g;_++)i[s+_]=w[p+_];return g},write(o,i,s,m,p,w){if(i.buffer===pe.buffer&&(w=!1),!m)return 0;var g=o.node;if(g.timestamp=Date.now(),i.subarray&&(!g.contents||g.contents.subarray)){if(w)return g.contents=i.subarray(s,s+m),g.usedBytes=m,m;if(g.usedBytes===0&&p===0)return g.contents=i.slice(s,s+m),g.usedBytes=m,m;if(p+m<=g.usedBytes)return g.contents.set(i.subarray(s,s+m),p),m}if(U.expandFileStorage(g,p+m),g.contents.subarray&&i.subarray)g.contents.set(i.subarray(s,s+m),p);else for(var _=0;_<m;_++)g.contents[p+_]=i[s+_];return g.usedBytes=Math.max(g.usedBytes,p+m),m},llseek(o,i,s){var m=i;if(s===1?m+=o.position:s===2&&c.isFile(o.node.mode)&&(m+=o.node.usedBytes),m<0)throw new c.ErrnoError(28);return m},allocate(o,i,s){U.expandFileStorage(o.node,i+s),o.node.usedBytes=Math.max(o.node.usedBytes,i+s)},mmap(o,i,s,m,p){if(!c.isFile(o.node.mode))throw new c.ErrnoError(43);var w,g,_=o.node.contents;if(!(p&2)&&_.buffer===pe.buffer)g=!1,w=_.byteOffset;else{if((s>0||s+i<_.length)&&(_.subarray?_=_.subarray(s,s+i):_=Array.prototype.slice.call(_,s,s+i)),g=!0,w=nt(),!w)throw new c.ErrnoError(48);pe.set(_,w)}return{ptr:w,allocated:g}},msync(o,i,s,m,p){return U.stream_ops.write(o,i,0,m,s,!1),0}}},ot=(o,i,s,m)=>{var p=m?"":`al ${o}`;cr(o,w=>{dr(w,`Loading data file "${o}" failed (no arrayBuffer).`),i(new Uint8Array(w)),p&&tt()},w=>{if(s)s();else throw`Loading data file "${o}" failed.`}),p&&Ue()},X=(o,i,s,m,p,w)=>c.createDataFile(o,i,s,m,p,w),it=l.preloadPlugins||[],W=(o,i,s,m)=>{typeof Browser<"u"&&Browser.init();var p=!1;return it.forEach(w=>{p||w.canHandle(i)&&(w.handle(o,i,s,m),p=!0)}),p},Dt=(o,i,s,m,p,w,g,_,A,C)=>{var Y=i?Ye.resolve(H.join2(o,i)):o;function G(j){function x(z){C&&C(),_||X(o,i,z,m,p,A),w&&w(),tt()}W(j,Y,x,()=>{g&&g(),tt()})||x(j)}Ue(),typeof s=="string"?ot(s,j=>G(j),g):G(s)},St=o=>{var i={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},s=i[o];if(typeof s>"u")throw new Error(`Unknown file open mode: ${o}`);return s},Wr=(o,i)=>{var s=0;return o&&(s|=365),i&&(s|=146),s},c={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath(o,i={}){if(o=Ye.resolve(o),!o)return{path:"",node:null};var s={follow_mount:!0,recurse_count:0};if(i=Object.assign(s,i),i.recurse_count>8)throw new c.ErrnoError(32);for(var m=o.split("/").filter(G=>!!G),p=c.root,w="/",g=0;g<m.length;g++){var _=g===m.length-1;if(_&&i.parent)break;if(p=c.lookupNode(p,m[g]),w=H.join2(w,m[g]),c.isMountpoint(p)&&(!_||_&&i.follow_mount)&&(p=p.mounted.root),!_||i.follow)for(var A=0;c.isLink(p.mode);){var C=c.readlink(w);w=Ye.resolve(H.dirname(w),C);var Y=c.lookupPath(w,{recurse_count:i.recurse_count+1});if(p=Y.node,A++>40)throw new c.ErrnoError(32)}}return{path:w,node:p}},getPath(o){for(var i;;){if(c.isRoot(o)){var s=o.mount.mountpoint;return i?s[s.length-1]!=="/"?`${s}/${i}`:s+i:s}i=i?`${o.name}/${i}`:o.name,o=o.parent}},hashName(o,i){for(var s=0,m=0;m<i.length;m++)s=(s<<5)-s+i.charCodeAt(m)|0;return(o+s>>>0)%c.nameTable.length},hashAddNode(o){var i=c.hashName(o.parent.id,o.name);o.name_next=c.nameTable[i],c.nameTable[i]=o},hashRemoveNode(o){var i=c.hashName(o.parent.id,o.name);if(c.nameTable[i]===o)c.nameTable[i]=o.name_next;else for(var s=c.nameTable[i];s;){if(s.name_next===o){s.name_next=o.name_next;break}s=s.name_next}},lookupNode(o,i){var s=c.mayLookup(o);if(s)throw new c.ErrnoError(s,o);for(var m=c.hashName(o.id,i),p=c.nameTable[m];p;p=p.name_next){var w=p.name;if(p.parent.id===o.id&&w===i)return p}return c.lookup(o,i)},createNode(o,i,s,m){var p=new c.FSNode(o,i,s,m);return c.hashAddNode(p),p},destroyNode(o){c.hashRemoveNode(o)},isRoot(o){return o===o.parent},isMountpoint(o){return!!o.mounted},isFile(o){return(o&61440)===32768},isDir(o){return(o&61440)===16384},isLink(o){return(o&61440)===40960},isChrdev(o){return(o&61440)===8192},isBlkdev(o){return(o&61440)===24576},isFIFO(o){return(o&61440)===4096},isSocket(o){return(o&49152)===49152},flagsToPermissionString(o){var i=["r","w","rw"][o&3];return o&512&&(i+="w"),i},nodePermissions(o,i){return c.ignorePermissions?0:i.includes("r")&&!(o.mode&292)||i.includes("w")&&!(o.mode&146)||i.includes("x")&&!(o.mode&73)?2:0},mayLookup(o){var i=c.nodePermissions(o,"x");return i||(o.node_ops.lookup?0:2)},mayCreate(o,i){try{var s=c.lookupNode(o,i);return 20}catch{}return c.nodePermissions(o,"wx")},mayDelete(o,i,s){var m;try{m=c.lookupNode(o,i)}catch(w){return w.errno}var p=c.nodePermissions(o,"wx");if(p)return p;if(s){if(!c.isDir(m.mode))return 54;if(c.isRoot(m)||c.getPath(m)===c.cwd())return 10}else if(c.isDir(m.mode))return 31;return 0},mayOpen(o,i){return o?c.isLink(o.mode)?32:c.isDir(o.mode)&&(c.flagsToPermissionString(i)!=="r"||i&512)?31:c.nodePermissions(o,c.flagsToPermissionString(i)):44},MAX_OPEN_FDS:4096,nextfd(){for(var o=0;o<=c.MAX_OPEN_FDS;o++)if(!c.streams[o])return o;throw new c.ErrnoError(33)},getStreamChecked(o){var i=c.getStream(o);if(!i)throw new c.ErrnoError(8);return i},getStream:o=>c.streams[o],createStream(o,i=-1){return c.FSStream||(c.FSStream=function(){this.shared={}},c.FSStream.prototype={},Object.defineProperties(c.FSStream.prototype,{object:{get(){return this.node},set(s){this.node=s}},isRead:{get(){return(this.flags&2097155)!==1}},isWrite:{get(){return(this.flags&2097155)!==0}},isAppend:{get(){return this.flags&1024}},flags:{get(){return this.shared.flags},set(s){this.shared.flags=s}},position:{get(){return this.shared.position},set(s){this.shared.position=s}}})),o=Object.assign(new c.FSStream,o),i==-1&&(i=c.nextfd()),o.fd=i,c.streams[i]=o,o},closeStream(o){c.streams[o]=null},chrdev_stream_ops:{open(o){var i=c.getDevice(o.node.rdev);o.stream_ops=i.stream_ops,o.stream_ops.open&&o.stream_ops.open(o)},llseek(){throw new c.ErrnoError(70)}},major:o=>o>>8,minor:o=>o&255,makedev:(o,i)=>o<<8|i,registerDevice(o,i){c.devices[o]={stream_ops:i}},getDevice:o=>c.devices[o],getMounts(o){for(var i=[],s=[o];s.length;){var m=s.pop();i.push(m),s.push.apply(s,m.mounts)}return i},syncfs(o,i){typeof o=="function"&&(i=o,o=!1),c.syncFSRequests++,c.syncFSRequests>1&&Me(`warning: ${c.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var s=c.getMounts(c.root.mount),m=0;function p(g){return c.syncFSRequests--,i(g)}function w(g){if(g)return w.errored?void 0:(w.errored=!0,p(g));++m>=s.length&&p(null)}s.forEach(g=>{if(!g.type.syncfs)return w(null);g.type.syncfs(g,o,w)})},mount(o,i,s){var m=s==="/",p=!s,w;if(m&&c.root)throw new c.ErrnoError(10);if(!m&&!p){var g=c.lookupPath(s,{follow_mount:!1});if(s=g.path,w=g.node,c.isMountpoint(w))throw new c.ErrnoError(10);if(!c.isDir(w.mode))throw new c.ErrnoError(54)}var _={type:o,opts:i,mountpoint:s,mounts:[]},A=o.mount(_);return A.mount=_,_.root=A,m?c.root=A:w&&(w.mounted=_,w.mount&&w.mount.mounts.push(_)),A},unmount(o){var i=c.lookupPath(o,{follow_mount:!1});if(!c.isMountpoint(i.node))throw new c.ErrnoError(28);var s=i.node,m=s.mounted,p=c.getMounts(m);Object.keys(c.nameTable).forEach(g=>{for(var _=c.nameTable[g];_;){var A=_.name_next;p.includes(_.mount)&&c.destroyNode(_),_=A}}),s.mounted=null;var w=s.mount.mounts.indexOf(m);s.mount.mounts.splice(w,1)},lookup(o,i){return o.node_ops.lookup(o,i)},mknod(o,i,s){var m=c.lookupPath(o,{parent:!0}),p=m.node,w=H.basename(o);if(!w||w==="."||w==="..")throw new c.ErrnoError(28);var g=c.mayCreate(p,w);if(g)throw new c.ErrnoError(g);if(!p.node_ops.mknod)throw new c.ErrnoError(63);return p.node_ops.mknod(p,w,i,s)},create(o,i){return i=i!==void 0?i:438,i&=4095,i|=32768,c.mknod(o,i,0)},mkdir(o,i){return i=i!==void 0?i:511,i&=1023,i|=16384,c.mknod(o,i,0)},mkdirTree(o,i){for(var s=o.split("/"),m="",p=0;p<s.length;++p)if(s[p]){m+="/"+s[p];try{c.mkdir(m,i)}catch(w){if(w.errno!=20)throw w}}},mkdev(o,i,s){return typeof s>"u"&&(s=i,i=438),i|=8192,c.mknod(o,i,s)},symlink(o,i){if(!Ye.resolve(o))throw new c.ErrnoError(44);var s=c.lookupPath(i,{parent:!0}),m=s.node;if(!m)throw new c.ErrnoError(44);var p=H.basename(i),w=c.mayCreate(m,p);if(w)throw new c.ErrnoError(w);if(!m.node_ops.symlink)throw new c.ErrnoError(63);return m.node_ops.symlink(m,p,o)},rename(o,i){var s=H.dirname(o),m=H.dirname(i),p=H.basename(o),w=H.basename(i),g,_,A;if(g=c.lookupPath(o,{parent:!0}),_=g.node,g=c.lookupPath(i,{parent:!0}),A=g.node,!_||!A)throw new c.ErrnoError(44);if(_.mount!==A.mount)throw new c.ErrnoError(75);var C=c.lookupNode(_,p),Y=Ye.relative(o,m);if(Y.charAt(0)!==".")throw new c.ErrnoError(28);if(Y=Ye.relative(i,s),Y.charAt(0)!==".")throw new c.ErrnoError(55);var G;try{G=c.lookupNode(A,w)}catch{}if(C!==G){var j=c.isDir(C.mode),x=c.mayDelete(_,p,j);if(x)throw new c.ErrnoError(x);if(x=G?c.mayDelete(A,w,j):c.mayCreate(A,w),x)throw new c.ErrnoError(x);if(!_.node_ops.rename)throw new c.ErrnoError(63);if(c.isMountpoint(C)||G&&c.isMountpoint(G))throw new c.ErrnoError(10);if(A!==_&&(x=c.nodePermissions(_,"w"),x))throw new c.ErrnoError(x);c.hashRemoveNode(C);try{_.node_ops.rename(C,A,w)}catch(z){throw z}finally{c.hashAddNode(C)}}},rmdir(o){var i=c.lookupPath(o,{parent:!0}),s=i.node,m=H.basename(o),p=c.lookupNode(s,m),w=c.mayDelete(s,m,!0);if(w)throw new c.ErrnoError(w);if(!s.node_ops.rmdir)throw new c.ErrnoError(63);if(c.isMountpoint(p))throw new c.ErrnoError(10);s.node_ops.rmdir(s,m),c.destroyNode(p)},readdir(o){var i=c.lookupPath(o,{follow:!0}),s=i.node;if(!s.node_ops.readdir)throw new c.ErrnoError(54);return s.node_ops.readdir(s)},unlink(o){var i=c.lookupPath(o,{parent:!0}),s=i.node;if(!s)throw new c.ErrnoError(44);var m=H.basename(o),p=c.lookupNode(s,m),w=c.mayDelete(s,m,!1);if(w)throw new c.ErrnoError(w);if(!s.node_ops.unlink)throw new c.ErrnoError(63);if(c.isMountpoint(p))throw new c.ErrnoError(10);s.node_ops.unlink(s,m),c.destroyNode(p)},readlink(o){var i=c.lookupPath(o),s=i.node;if(!s)throw new c.ErrnoError(44);if(!s.node_ops.readlink)throw new c.ErrnoError(28);return Ye.resolve(c.getPath(s.parent),s.node_ops.readlink(s))},stat(o,i){var s=c.lookupPath(o,{follow:!i}),m=s.node;if(!m)throw new c.ErrnoError(44);if(!m.node_ops.getattr)throw new c.ErrnoError(63);return m.node_ops.getattr(m)},lstat(o){return c.stat(o,!0)},chmod(o,i,s){var m;if(typeof o=="string"){var p=c.lookupPath(o,{follow:!s});m=p.node}else m=o;if(!m.node_ops.setattr)throw new c.ErrnoError(63);m.node_ops.setattr(m,{mode:i&4095|m.mode&-4096,timestamp:Date.now()})},lchmod(o,i){c.chmod(o,i,!0)},fchmod(o,i){var s=c.getStreamChecked(o);c.chmod(s.node,i)},chown(o,i,s,m){var p;if(typeof o=="string"){var w=c.lookupPath(o,{follow:!m});p=w.node}else p=o;if(!p.node_ops.setattr)throw new c.ErrnoError(63);p.node_ops.setattr(p,{timestamp:Date.now()})},lchown(o,i,s){c.chown(o,i,s,!0)},fchown(o,i,s){var m=c.getStreamChecked(o);c.chown(m.node,i,s)},truncate(o,i){if(i<0)throw new c.ErrnoError(28);var s;if(typeof o=="string"){var m=c.lookupPath(o,{follow:!0});s=m.node}else s=o;if(!s.node_ops.setattr)throw new c.ErrnoError(63);if(c.isDir(s.mode))throw new c.ErrnoError(31);if(!c.isFile(s.mode))throw new c.ErrnoError(28);var p=c.nodePermissions(s,"w");if(p)throw new c.ErrnoError(p);s.node_ops.setattr(s,{size:i,timestamp:Date.now()})},ftruncate(o,i){var s=c.getStreamChecked(o);if(!(s.flags&2097155))throw new c.ErrnoError(28);c.truncate(s.node,i)},utime(o,i,s){var m=c.lookupPath(o,{follow:!0}),p=m.node;p.node_ops.setattr(p,{timestamp:Math.max(i,s)})},open(o,i,s){if(o==="")throw new c.ErrnoError(44);i=typeof i=="string"?St(i):i,s=typeof s>"u"?438:s,i&64?s=s&4095|32768:s=0;var m;if(typeof o=="object")m=o;else{o=H.normalize(o);try{var p=c.lookupPath(o,{follow:!(i&131072)});m=p.node}catch{}}var w=!1;if(i&64)if(m){if(i&128)throw new c.ErrnoError(20)}else m=c.mknod(o,s,0),w=!0;if(!m)throw new c.ErrnoError(44);if(c.isChrdev(m.mode)&&(i&=-513),i&65536&&!c.isDir(m.mode))throw new c.ErrnoError(54);if(!w){var g=c.mayOpen(m,i);if(g)throw new c.ErrnoError(g)}i&512&&!w&&c.truncate(m,0),i&=-131713;var _=c.createStream({node:m,path:c.getPath(m),flags:i,seekable:!0,position:0,stream_ops:m.stream_ops,ungotten:[],error:!1});return _.stream_ops.open&&_.stream_ops.open(_),l.logReadFiles&&!(i&1)&&(c.readFiles||(c.readFiles={}),o in c.readFiles||(c.readFiles[o]=1)),_},close(o){if(c.isClosed(o))throw new c.ErrnoError(8);o.getdents&&(o.getdents=null);try{o.stream_ops.close&&o.stream_ops.close(o)}catch(i){throw i}finally{c.closeStream(o.fd)}o.fd=null},isClosed(o){return o.fd===null},llseek(o,i,s){if(c.isClosed(o))throw new c.ErrnoError(8);if(!o.seekable||!o.stream_ops.llseek)throw new c.ErrnoError(70);if(s!=0&&s!=1&&s!=2)throw new c.ErrnoError(28);return o.position=o.stream_ops.llseek(o,i,s),o.ungotten=[],o.position},read(o,i,s,m,p){if(m<0||p<0)throw new c.ErrnoError(28);if(c.isClosed(o))throw new c.ErrnoError(8);if((o.flags&2097155)===1)throw new c.ErrnoError(8);if(c.isDir(o.node.mode))throw new c.ErrnoError(31);if(!o.stream_ops.read)throw new c.ErrnoError(28);var w=typeof p<"u";if(!w)p=o.position;else if(!o.seekable)throw new c.ErrnoError(70);var g=o.stream_ops.read(o,i,s,m,p);return w||(o.position+=g),g},write(o,i,s,m,p,w){if(m<0||p<0)throw new c.ErrnoError(28);if(c.isClosed(o))throw new c.ErrnoError(8);if(!(o.flags&2097155))throw new c.ErrnoError(8);if(c.isDir(o.node.mode))throw new c.ErrnoError(31);if(!o.stream_ops.write)throw new c.ErrnoError(28);o.seekable&&o.flags&1024&&c.llseek(o,0,2);var g=typeof p<"u";if(!g)p=o.position;else if(!o.seekable)throw new c.ErrnoError(70);var _=o.stream_ops.write(o,i,s,m,p,w);return g||(o.position+=_),_},allocate(o,i,s){if(c.isClosed(o))throw new c.ErrnoError(8);if(i<0||s<=0)throw new c.ErrnoError(28);if(!(o.flags&2097155))throw new c.ErrnoError(8);if(!c.isFile(o.node.mode)&&!c.isDir(o.node.mode))throw new c.ErrnoError(43);if(!o.stream_ops.allocate)throw new c.ErrnoError(138);o.stream_ops.allocate(o,i,s)},mmap(o,i,s,m,p){if(m&2&&!(p&2)&&(o.flags&2097155)!==2)throw new c.ErrnoError(2);if((o.flags&2097155)===1)throw new c.ErrnoError(2);if(!o.stream_ops.mmap)throw new c.ErrnoError(43);return o.stream_ops.mmap(o,i,s,m,p)},msync(o,i,s,m,p){return o.stream_ops.msync?o.stream_ops.msync(o,i,s,m,p):0},munmap:o=>0,ioctl(o,i,s){if(!o.stream_ops.ioctl)throw new c.ErrnoError(59);return o.stream_ops.ioctl(o,i,s)},readFile(o,i={}){if(i.flags=i.flags||0,i.encoding=i.encoding||"binary",i.encoding!=="utf8"&&i.encoding!=="binary")throw new Error(`Invalid encoding type "${i.encoding}"`);var s,m=c.open(o,i.flags),p=c.stat(o),w=p.size,g=new Uint8Array(w);return c.read(m,g,0,w,0),i.encoding==="utf8"?s=sr(g,0):i.encoding==="binary"&&(s=g),c.close(m),s},writeFile(o,i,s={}){s.flags=s.flags||577;var m=c.open(o,s.flags,s.mode);if(typeof i=="string"){var p=new Uint8Array(ue(i)+1),w=nr(i,p,0,p.length);c.write(m,p,0,w,void 0,s.canOwn)}else if(ArrayBuffer.isView(i))c.write(m,i,0,i.byteLength,void 0,s.canOwn);else throw new Error("Unsupported data type");c.close(m)},cwd:()=>c.currentPath,chdir(o){var i=c.lookupPath(o,{follow:!0});if(i.node===null)throw new c.ErrnoError(44);if(!c.isDir(i.node.mode))throw new c.ErrnoError(54);var s=c.nodePermissions(i.node,"x");if(s)throw new c.ErrnoError(s);c.currentPath=i.path},createDefaultDirectories(){c.mkdir("/tmp"),c.mkdir("/home"),c.mkdir("/home/web_user")},createDefaultDevices(){c.mkdir("/dev"),c.registerDevice(c.makedev(1,3),{read:()=>0,write:(m,p,w,g,_)=>g}),c.mkdev("/dev/null",c.makedev(1,3)),ce.register(c.makedev(5,0),ce.default_tty_ops),ce.register(c.makedev(6,0),ce.default_tty1_ops),c.mkdev("/dev/tty",c.makedev(5,0)),c.mkdev("/dev/tty1",c.makedev(6,0));var o=new Uint8Array(1024),i=0,s=()=>(i===0&&(i=L(o).byteLength),o[--i]);c.createDevice("/dev","random",s),c.createDevice("/dev","urandom",s),c.mkdir("/dev/shm"),c.mkdir("/dev/shm/tmp")},createSpecialDirectories(){c.mkdir("/proc");var o=c.mkdir("/proc/self");c.mkdir("/proc/self/fd"),c.mount({mount(){var i=c.createNode(o,"fd",16895,73);return i.node_ops={lookup(s,m){var p=+m,w=c.getStreamChecked(p),g={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>w.path}};return g.parent=g,g}},i}},{},"/proc/self/fd")},createStandardStreams(){l.stdin?c.createDevice("/dev","stdin",l.stdin):c.symlink("/dev/tty","/dev/stdin"),l.stdout?c.createDevice("/dev","stdout",null,l.stdout):c.symlink("/dev/tty","/dev/stdout"),l.stderr?c.createDevice("/dev","stderr",null,l.stderr):c.symlink("/dev/tty1","/dev/stderr"),c.open("/dev/stdin",0),c.open("/dev/stdout",1),c.open("/dev/stderr",1)},ensureErrnoError(){c.ErrnoError||(c.ErrnoError=function(i,s){this.name="ErrnoError",this.node=s,this.setErrno=function(m){this.errno=m},this.setErrno(i),this.message="FS error"},c.ErrnoError.prototype=new Error,c.ErrnoError.prototype.constructor=c.ErrnoError,[44].forEach(o=>{c.genericErrors[o]=new c.ErrnoError(o),c.genericErrors[o].stack="<generic error, no stack>"}))},staticInit(){c.ensureErrnoError(),c.nameTable=new Array(4096),c.mount(U,{},"/"),c.createDefaultDirectories(),c.createDefaultDevices(),c.createSpecialDirectories(),c.filesystems={MEMFS:U}},init(o,i,s){c.init.initialized=!0,c.ensureErrnoError(),l.stdin=o||l.stdin,l.stdout=i||l.stdout,l.stderr=s||l.stderr,c.createStandardStreams()},quit(){c.init.initialized=!1;for(var o=0;o<c.streams.length;o++){var i=c.streams[o];i&&c.close(i)}},findObject(o,i){var s=c.analyzePath(o,i);return s.exists?s.object:null},analyzePath(o,i){try{var s=c.lookupPath(o,{follow:!i});o=s.path}catch{}var m={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var s=c.lookupPath(o,{parent:!0});m.parentExists=!0,m.parentPath=s.path,m.parentObject=s.node,m.name=H.basename(o),s=c.lookupPath(o,{follow:!i}),m.exists=!0,m.path=s.path,m.object=s.node,m.name=s.node.name,m.isRoot=s.path==="/"}catch(p){m.error=p.errno}return m},createPath(o,i,s,m){o=typeof o=="string"?o:c.getPath(o);for(var p=i.split("/").reverse();p.length;){var w=p.pop();if(w){var g=H.join2(o,w);try{c.mkdir(g)}catch{}o=g}}return g},createFile(o,i,s,m,p){var w=H.join2(typeof o=="string"?o:c.getPath(o),i),g=Wr(m,p);return c.create(w,g)},createDataFile(o,i,s,m,p,w){var g=i;o&&(o=typeof o=="string"?o:c.getPath(o),g=i?H.join2(o,i):o);var _=Wr(m,p),A=c.create(g,_);if(s){if(typeof s=="string"){for(var C=new Array(s.length),Y=0,G=s.length;Y<G;++Y)C[Y]=s.charCodeAt(Y);s=C}c.chmod(A,_|146);var j=c.open(A,577);c.write(j,s,0,s.length,0,w),c.close(j),c.chmod(A,_)}return A},createDevice(o,i,s,m){var p=H.join2(typeof o=="string"?o:c.getPath(o),i),w=Wr(!!s,!!m);c.createDevice.major||(c.createDevice.major=64);var g=c.makedev(c.createDevice.major++,0);return c.registerDevice(g,{open(_){_.seekable=!1},close(_){m&&m.buffer&&m.buffer.length&&m(10)},read(_,A,C,Y,G){for(var j=0,x=0;x<Y;x++){var z;try{z=s()}catch{throw new c.ErrnoError(29)}if(z===void 0&&j===0)throw new c.ErrnoError(6);if(z==null)break;j++,A[C+x]=z}return j&&(_.node.timestamp=Date.now()),j},write(_,A,C,Y,G){for(var j=0;j<Y;j++)try{m(A[C+j])}catch{throw new c.ErrnoError(29)}return Y&&(_.node.timestamp=Date.now()),j}}),c.mkdev(p,w,g)},forceLoadFile(o){if(o.isDevice||o.isFolder||o.link||o.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(ee)try{o.contents=be(ee(o.url),!0),o.usedBytes=o.contents.length}catch{throw new c.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile(o,i,s,m,p){function w(){this.lengthKnown=!1,this.chunks=[]}if(w.prototype.get=function(x){if(!(x>this.length-1||x<0)){var z=x%this.chunkSize,ae=x/this.chunkSize|0;return this.getter(ae)[z]}},w.prototype.setDataGetter=function(x){this.getter=x},w.prototype.cacheLength=function(){var x=new XMLHttpRequest;if(x.open("HEAD",s,!1),x.send(null),!(x.status>=200&&x.status<300||x.status===304))throw new Error("Couldn't load "+s+". Status: "+x.status);var z=Number(x.getResponseHeader("Content-length")),ae,Fe=(ae=x.getResponseHeader("Accept-Ranges"))&&ae==="bytes",Ee=(ae=x.getResponseHeader("Content-Encoding"))&&ae==="gzip",ge=1024*1024;Fe||(ge=z);var De=(Le,Je)=>{if(Le>Je)throw new Error("invalid range ("+Le+", "+Je+") or no bytes requested!");if(Je>z-1)throw new Error("only "+z+" bytes available! programmer error!");var se=new XMLHttpRequest;if(se.open("GET",s,!1),z!==ge&&se.setRequestHeader("Range","bytes="+Le+"-"+Je),se.responseType="arraybuffer",se.overrideMimeType&&se.overrideMimeType("text/plain; charset=x-user-defined"),se.send(null),!(se.status>=200&&se.status<300||se.status===304))throw new Error("Couldn't load "+s+". Status: "+se.status);return se.response!==void 0?new Uint8Array(se.response||[]):be(se.responseText||"",!0)},Ie=this;Ie.setDataGetter(Le=>{var Je=Le*ge,se=(Le+1)*ge-1;if(se=Math.min(se,z-1),typeof Ie.chunks[Le]>"u"&&(Ie.chunks[Le]=De(Je,se)),typeof Ie.chunks[Le]>"u")throw new Error("doXHR failed!");return Ie.chunks[Le]}),(Ee||!z)&&(ge=z=1,z=this.getter(0).length,ge=z,Qe("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=z,this._chunkSize=ge,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!_e)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var g=new w;Object.defineProperties(g,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var _={isDevice:!1,contents:g}}else var _={isDevice:!1,url:s};var A=c.createFile(o,i,_,m,p);_.contents?A.contents=_.contents:_.url&&(A.contents=null,A.url=_.url),Object.defineProperties(A,{usedBytes:{get:function(){return this.contents.length}}});var C={},Y=Object.keys(A.stream_ops);Y.forEach(j=>{var x=A.stream_ops[j];C[j]=function(){return c.forceLoadFile(A),x.apply(null,arguments)}});function G(j,x,z,ae,Fe){var Ee=j.node.contents;if(Fe>=Ee.length)return 0;var ge=Math.min(Ee.length-Fe,ae);if(Ee.slice)for(var De=0;De<ge;De++)x[z+De]=Ee[Fe+De];else for(var De=0;De<ge;De++)x[z+De]=Ee.get(Fe+De);return ge}return C.read=(j,x,z,ae,Fe)=>(c.forceLoadFile(A),G(j,x,z,ae,Fe)),C.mmap=(j,x,z,ae,Fe)=>{c.forceLoadFile(A);var Ee=nt();if(!Ee)throw new c.ErrnoError(48);return G(j,pe,Ee,x,z),{ptr:Ee,allocated:!0}},A.stream_ops=C,A}},$={DEFAULT_POLLMASK:5,calculateAt(o,i,s){if(H.isAbs(i))return i;var m;if(o===-100)m=c.cwd();else{var p=$.getStreamFromFD(o);m=p.path}if(i.length==0){if(!s)throw new c.ErrnoError(44);return m}return H.join2(m,i)},doStat(o,i,s){try{var m=o(i)}catch(_){if(_&&_.node&&H.normalize(i)!==H.normalize(c.getPath(_.node)))return-54;throw _}N[s>>2]=m.dev,N[s+4>>2]=m.mode,ie[s+8>>2]=m.nlink,N[s+12>>2]=m.uid,N[s+16>>2]=m.gid,N[s+20>>2]=m.rdev,he=[m.size>>>0,(V=m.size,+Math.abs(V)>=1?V>0?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],N[s+24>>2]=he[0],N[s+28>>2]=he[1],N[s+32>>2]=4096,N[s+36>>2]=m.blocks;var p=m.atime.getTime(),w=m.mtime.getTime(),g=m.ctime.getTime();return he=[Math.floor(p/1e3)>>>0,(V=Math.floor(p/1e3),+Math.abs(V)>=1?V>0?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],N[s+40>>2]=he[0],N[s+44>>2]=he[1],ie[s+48>>2]=p%1e3*1e3,he=[Math.floor(w/1e3)>>>0,(V=Math.floor(w/1e3),+Math.abs(V)>=1?V>0?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],N[s+56>>2]=he[0],N[s+60>>2]=he[1],ie[s+64>>2]=w%1e3*1e3,he=[Math.floor(g/1e3)>>>0,(V=Math.floor(g/1e3),+Math.abs(V)>=1?V>0?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],N[s+72>>2]=he[0],N[s+76>>2]=he[1],ie[s+80>>2]=g%1e3*1e3,he=[m.ino>>>0,(V=m.ino,+Math.abs(V)>=1?V>0?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],N[s+88>>2]=he[0],N[s+92>>2]=he[1],0},doMsync(o,i,s,m,p){if(!c.isFile(i.node.mode))throw new c.ErrnoError(43);if(m&2)return 0;var w=er.slice(o,o+s);c.msync(i,w,p,s,m)},varargs:void 0,get(){var o=N[+$.varargs>>2];return $.varargs+=4,o},getp(){return $.get()},getStr(o){var i=Ke(o);return i},getStreamFromFD(o){var i=c.getStreamChecked(o);return i}};function d(o,i,s,m){try{if(i=$.getStr(i),i=$.calculateAt(o,i),s&-8)return-28;var p=c.lookupPath(i,{follow:!0}),w=p.node;if(!w)return-44;var g="";return s&4&&(g+="r"),s&2&&(g+="w"),s&1&&(g+="x"),g&&c.nodePermissions(w,g)?-2:0}catch(_){if(typeof c>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}var J=o=>(N[Nr()>>2]=o,o);function v(o,i,s){$.varargs=s;try{var m=$.getStreamFromFD(o);switch(i){case 0:{var p=$.get();if(p<0)return-28;for(;c.streams[p];)p++;var w;return w=c.createStream(m,p),w.fd}case 1:case 2:return 0;case 3:return m.flags;case 4:{var p=$.get();return m.flags|=p,0}case 5:{var p=$.getp(),g=0;return te[p+g>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return J(28),-1;default:return-28}}catch(_){if(typeof c>"u"||_.name!=="ErrnoError")throw _;return-_.errno}}function Q(o,i){try{var s=$.getStreamFromFD(o);return $.doStat(c.stat,s.path,i)}catch(m){if(typeof c>"u"||m.name!=="ErrnoError")throw m;return-m.errno}}function Rt(o,i,s){$.varargs=s;try{var m=$.getStreamFromFD(o);switch(i){case 21509:return m.tty?0:-59;case 21505:{if(!m.tty)return-59;if(m.tty.ops.ioctl_tcgets){var p=m.tty.ops.ioctl_tcgets(m),w=$.getp();N[w>>2]=p.c_iflag||0,N[w+4>>2]=p.c_oflag||0,N[w+8>>2]=p.c_cflag||0,N[w+12>>2]=p.c_lflag||0;for(var g=0;g<32;g++)pe[w+g+17>>0]=p.c_cc[g]||0;return 0}return 0}case 21510:case 21511:case 21512:return m.tty?0:-59;case 21506:case 21507:case 21508:{if(!m.tty)return-59;if(m.tty.ops.ioctl_tcsets){for(var w=$.getp(),_=N[w>>2],A=N[w+4>>2],C=N[w+8>>2],Y=N[w+12>>2],G=[],g=0;g<32;g++)G.push(pe[w+g+17>>0]);return m.tty.ops.ioctl_tcsets(m.tty,i,{c_iflag:_,c_oflag:A,c_cflag:C,c_lflag:Y,c_cc:G})}return 0}case 21519:{if(!m.tty)return-59;var w=$.getp();return N[w>>2]=0,0}case 21520:return m.tty?-28:-59;case 21531:{var w=$.getp();return c.ioctl(m,i,w)}case 21523:{if(!m.tty)return-59;if(m.tty.ops.ioctl_tiocgwinsz){var j=m.tty.ops.ioctl_tiocgwinsz(m.tty),w=$.getp();te[w>>1]=j[0],te[w+2>>1]=j[1]}return 0}case 21524:return m.tty?0:-59;case 21515:return m.tty?0:-59;default:return-28}}catch(x){if(typeof c>"u"||x.name!=="ErrnoError")throw x;return-x.errno}}function Yr(o,i,s,m){try{i=$.getStr(i);var p=m&256,w=m&4096;return m=m&-6401,i=$.calculateAt(o,i,w),$.doStat(p?c.lstat:c.stat,i,s)}catch(g){if(typeof c>"u"||g.name!=="ErrnoError")throw g;return-g.errno}}function Mt(o,i,s,m){$.varargs=m;try{i=$.getStr(i),i=$.calculateAt(o,i);var p=m?$.get():0;return c.open(i,s,p).fd}catch(w){if(typeof c>"u"||w.name!=="ErrnoError")throw w;return-w.errno}}function qr(o){try{return o=$.getStr(o),c.rmdir(o),0}catch(i){if(typeof c>"u"||i.name!=="ErrnoError")throw i;return-i.errno}}function At(o,i){try{return o=$.getStr(o),$.doStat(c.stat,o,i)}catch(s){if(typeof c>"u"||s.name!=="ErrnoError")throw s;return-s.errno}}function Tt(o,i,s){try{return i=$.getStr(i),i=$.calculateAt(o,i),s===0?c.unlink(i):s===512?c.rmdir(i):Te("Invalid flags passed to unlinkat"),0}catch(m){if(typeof c>"u"||m.name!=="ErrnoError")throw m;return-m.errno}}var Pt=()=>{throw 1/0},at=(o,i)=>i+2097152>>>0<4194305-!!o?(o>>>0)+i*4294967296:NaN;function Lt(o,i,s){var m=at(o,i),p=new Date(m*1e3);N[s>>2]=p.getUTCSeconds(),N[s+4>>2]=p.getUTCMinutes(),N[s+8>>2]=p.getUTCHours(),N[s+12>>2]=p.getUTCDate(),N[s+16>>2]=p.getUTCMonth(),N[s+20>>2]=p.getUTCFullYear()-1900,N[s+24>>2]=p.getUTCDay();var w=Date.UTC(p.getUTCFullYear(),0,1,0,0,0,0),g=(p.getTime()-w)/(1e3*60*60*24)|0;N[s+28>>2]=g}var Oe=(o,i,s)=>nr(o,er,i,s),st=o=>{var i=ue(o)+1,s=Cr(i);return s&&Oe(o,s,i),s},xt=(o,i,s)=>{var m=new Date().getFullYear(),p=new Date(m,0,1),w=new Date(m,6,1),g=p.getTimezoneOffset(),_=w.getTimezoneOffset(),A=Math.max(g,_);ie[o>>2]=A*60,N[i>>2]=+(g!=_);function C(z){var ae=z.toTimeString().match(/\(([A-Za-z ]+)\)$/);return ae?ae[1]:"GMT"}var Y=C(p),G=C(w),j=st(Y),x=st(G);_<g?(ie[s>>2]=j,ie[s+4>>2]=x):(ie[s>>2]=x,ie[s+4>>2]=j)},Ut=()=>{Te("")},pr=()=>Date.now(),Ct=(o,i,s)=>er.copyWithin(o,i,i+s),lt=()=>2147483648,Nt=o=>{var i=me.buffer,s=(o-i.byteLength+65535)/65536;try{return me.grow(s),S(),1}catch{}},ut=o=>{var i=er.length;o>>>=0;var s=lt();if(o>s)return!1;for(var m=(A,C)=>A+(C-A%C)%C,p=1;p<=4;p*=2){var w=i*(1+.2/p);w=Math.min(w,o+100663296);var g=Math.min(s,m(Math.max(o,w),65536)),_=Nt(g);if(_)return!0}return!1};function zt(o){try{var i=$.getStreamFromFD(o);return c.close(i),0}catch(s){if(typeof c>"u"||s.name!=="ErrnoError")throw s;return s.errno}}var Ot=(o,i,s,m)=>{for(var p=0,w=0;w<s;w++){var g=ie[i>>2],_=ie[i+4>>2];i+=8;var A=c.read(o,pe,g,_,m);if(A<0)return-1;if(p+=A,A<_)break;typeof m<"u"&&(m+=A)}return p};function Bt(o,i,s,m){try{var p=$.getStreamFromFD(o),w=Ot(p,i,s);return ie[m>>2]=w,0}catch(g){if(typeof c>"u"||g.name!=="ErrnoError")throw g;return g.errno}}function ft(o,i,s,m,p){var w=at(i,s);try{if(isNaN(w))return 61;var g=$.getStreamFromFD(o);return c.llseek(g,w,m),he=[g.position>>>0,(V=g.position,+Math.abs(V)>=1?V>0?+Math.floor(V/4294967296)>>>0:~~+Math.ceil((V-+(~~V>>>0))/4294967296)>>>0:0)],N[p>>2]=he[0],N[p+4>>2]=he[1],g.getdents&&w===0&&m===0&&(g.getdents=null),0}catch(_){if(typeof c>"u"||_.name!=="ErrnoError")throw _;return _.errno}}var It=(o,i,s,m)=>{for(var p=0,w=0;w<s;w++){var g=ie[i>>2],_=ie[i+4>>2];i+=8;var A=c.write(o,pe,g,_,m);if(A<0)return-1;p+=A,typeof m<"u"&&(m+=A)}return p};function $r(o,i,s,m){try{var p=$.getStreamFromFD(o),w=It(p,i,s);return ie[m>>2]=w,0}catch(g){if(typeof c>"u"||g.name!=="ErrnoError")throw g;return g.errno}}function Ht(o,i,s){return et(o,i)}var wr=0,Vr=()=>Xr||wr>0,jt=o=>{ze=o,Vr()||(l.onExit&&l.onExit(o),xe=!0),qe(o,new T(o))},gr=(o,i)=>{ze=o,jt(o)},Xt=o=>{if(o instanceof T||o=="unwind")return ze;qe(1,o)},Lr=[],ct,Gr=o=>{var i=Lr[o];return i||(o>=Lr.length&&(Lr.length=o+1),Lr[o]=i=ct.get(o)),i},dt=o=>{var i=l["_"+o];return i},Wt=(o,i)=>{pe.set(o,i)},vt=o=>{var i=ue(o)+1,s=ur(i);return Oe(o,s,i),s},Yt=(o,i,s,m,p)=>{var w={string:z=>{var ae=0;return z!=null&&z!==0&&(ae=vt(z)),ae},array:z=>{var ae=ur(z.length);return Wt(z,ae),ae}};function g(z){return i==="string"?Ke(z):i==="boolean"?!!z:z}var _=dt(o),A=[],C=0;if(m)for(var Y=0;Y<m.length;Y++){var G=w[s[Y]];G?(C===0&&(C=lr()),A[Y]=G(m[Y])):A[Y]=m[Y]}var j=_.apply(null,A);function x(z){return C!==0&&or(C),g(z)}return j=x(j),j},mt=(o,i,s,m)=>{var p=!s||s.every(g=>g==="number"||g==="boolean"),w=i!=="string";return w&&p&&!m?dt(o):function(){return Yt(o,i,s,arguments)}},ht=function(o,i,s,m){o||(o=this),this.parent=o,this.mount=o.mount,this.mounted=null,this.id=c.nextInode++,this.name=i,this.mode=s,this.node_ops={},this.stream_ops={},this.rdev=m},xr=365,Ur=146;Object.defineProperties(ht.prototype,{read:{get:function(){return(this.mode&xr)===xr},set:function(o){o?this.mode|=xr:this.mode&=~xr}},write:{get:function(){return(this.mode&Ur)===Ur},set:function(o){o?this.mode|=Ur:this.mode&=~Ur}},isFolder:{get:function(){return c.isDir(this.mode)}},isDevice:{get:function(){return c.isChrdev(this.mode)}}}),c.FSNode=ht,c.createPreloadedFile=Dt,c.staticInit();var qt={a:Ce,i:d,d:v,v:Q,x:Rt,t:Yr,f:Mt,r:qr,u:At,s:Tt,o:Pt,l:Lt,q:xt,j:Ut,g:pr,h:Ct,p:ut,b:zt,w:Bt,m:ft,c:$r,e:Be,n:pt,k:yr,y:Ht},we=jr(),Cr=o=>(Cr=we.B)(o),Kr=l._compilePDF=()=>(Kr=l._compilePDF=we.D)();l._setMainEntry=o=>(l._setMainEntry=we.E)(o);var Jr=l._main=(o,i)=>(Jr=l._main=we.F)(o,i),Nr=()=>(Nr=we.G)(),zr=(o,i)=>(zr=we.H)(o,i),lr=()=>(lr=we.I)(),or=o=>(or=we.J)(o),ur=o=>(ur=we.K)(o),Zr=l.dynCall_iiiiiiiiiij=(o,i,s,m,p,w,g,_,A,C,Y,G)=>(Zr=l.dynCall_iiiiiiiiiij=we.L)(o,i,s,m,p,w,g,_,A,C,Y,G);function Be(o,i,s){var m=lr();try{return Gr(o)(i,s)}catch(p){if(or(m),p!==p+0)throw p;zr(1,0)}}function yr(o,i,s){var m=lr();try{Gr(o)(i,s)}catch(p){if(or(m),p!==p+0)throw p;zr(1,0)}}function pt(o,i,s,m,p,w,g,_,A,C,Y,G){var j=lr();try{return Zr(o,i,s,m,p,w,g,_,A,C,Y,G)}catch(x){if(or(j),x!==x+0)throw x;zr(1,0)}}l.cwrap=mt;var Pe;vr=function o(){Pe||Er(),Pe||(vr=o)};function Qr(){var o=Jr,i=0,s=0;try{var m=o(i,s);return gr(m,!0),m}catch(p){return Xt(p)}}function Er(){if(rr>0||(wt(),rr>0))return;function o(){Pe||(Pe=!0,l.calledRun=!0,!xe&&(Hr(),gt(),Sr(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),fr&&Qr(),yt()))}l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),o()},1)):o()}if(l.preInit)for(typeof l.preInit=="function"&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();var fr=!0;l.noInitialRun&&(fr=!1),Er();const _r={PDFTEX:0,XETEX:1,DVIPDF:2};function fe(o){let i=Cr(o.length);return er.set(new Uint8Array(o),i),i}function ir(){l.memLog="",l.memErrLog="",c.streams.forEach(o=>{!o||o.fd<=2||c.close(o)}),c.chdir(l.workRoot)}function Or(o,i){ir(),mt("setMainEntry","number",["string"])(l.mainFile);let m=_compileLaTeX;o===_r.DVIPDF&&(m=Kr);let p=m();if(p!==0)return{err:Error("Compilation failed, with status code "+p),log:l.memLog,errLog:l.memErrLog};try{_compileBibtex()}catch(_){console.error("Ignoring bibtex exceptions",_)}let w,g=l.workRoot+i;try{w=c.readFile(g,{encoding:"binary"})}catch(_){return _=_+`
Fetch content failed. `+g,console.error(_),{err:_,log:l.memLog,errLog:l.memErrLog}}return{data:w,log:l.memLog,errLog:l.memErrLog}}function de(o){ir();let i=_compileFormat();if(i!==0){const p=Error("Compilation failed, with status code "+i);return console.error(p),{err:p,log:l.memLog,errLog:l.memErrLog}}let s,m=l.workRoot+o;try{s=c.readFile(m,{encoding:"binary"})}catch(p){return p=Error(p+`
Fetch content failed. `+m),console.error(p),{err:p,log:l.memLog,errLog:l.memErrLog}}return{data:s,log:l.memLog,errLog:l.memErrLog}}l.onRuntimeInitialized=function(){l.cacheRoot="/tex",l.workRoot="/work",l.memLog="",l.memErrLog="",l.initMem=void 0,l.mainFile="",l.texliveURL="https://texlive2.swiftlatex.com/",l.print=function(o){l.memLog+=o+`
`,console.log(o)},l.printErr=function(o){l.memErrLog+=o+`
`,console.error(o)},l.preRun.push(function(){c.mkdir(l.cacheRoot),c.mkdir(l.workRoot)}),l.onAbort=function(){l.memErrLog+=`Engine crashed
`},l.writeFile=function(o,i){try{o.startsWith("/")||(o="/"+o),c.writeFile(l.workRoot+o,i)}catch(s){return{err:s}}return{}},l.setMainFile=function(o){o.startsWith("/")||(o="/"+o),o=l.workRoot+o;let i=c.analyzePath(o,!1);if(i.exists&&c.isFile(c.stat(o).mode))l.mainFile=o;else{let s="Path must be an existing file.";return i.error&&i.error.message&&(s+=" "+i.error.message),{err:Error(s)}}return{}},l.flushCache=function(){try{c.unlink(l.workRoot),c.mkdir(l.workRoot)}catch(o){return{err:o}}return{}},l.mkdir=function(o){try{c.mkdir(l.workRoot+"/"+o)}catch(i){return{err:i}}return{}},l.setTexliveURL=function(o){return typeof o!="string"?{err:Error("Texlive URL must be a string value")}:(o.endsWith("/")||(o+="/"),l.texliveURL=o,{url:o})},l.compileXetex=function(){const o="/"+l.mainFile.substring(0,l.mainFile.length-4)+".xdv";return Or(_r.XETEX,o)},l.compileXetexFormat=function(){return de("/xelatex.fmt")},l.compileDviPDF=function(){const o="/"+l.mainFile.substring(0,l.mainFile.length-4)+".pdf";return Or(_r.DVIPDF,o)},l.compilePDFTex=function(){const o="/"+l.mainFile.substring(0,l.mainFile.length-4)+".pdf";return Or(_r.PDFTEX,o)},l.compilePDFTexFormat=function(){return de("/pdflatex.fmt")}},_e&&(self.onmessage=function(o){let i=o.data;const s=i.cmd;switch(s){case"compileXetex":self.postMessage({...l.compileXetex(),cmd:s});break;case"compileXetexFormat":self.postMessage({...l.compileXetexFormat(),cmd:s});break;case"compileDviPDF":self.postMessage({...l.compileDviPDF(),cmd:s});break;case"compilePDFTex":self.postMessage({...l.compilePDFTex(),cmd:s});break;case"setTexliveURL":self.postMessage({...l.setTexliveURL(i.url),cmd:s});break;case"fsMkdir":self.postMessage({...l.mkdir(i.dirname),cmd:s});break;case"fsWrite":self.postMessage({...l.writeFile(i.filePath,i.content),cmd:s});break;case"setMainFile":self.postMessage({...l.setMainFile(i.filePath),cmd:s});break;case"flushCache":self.postMessage({...l.flushCache(),cmd:s});break;default:self.postMessage({err:Error("Unknown command: "+s),cmd:s})}});let kr={},br={};function et(o,i,s){let m=Ke(o);if(m.startsWith("/tex/")&&(m=m.substring(5)),m.includes("/"))return 0;const p=i+"/"+m;if(p in kr)return 0;if(p in br){const _=br[p];return fe(be(_))}const w=l.texliveURL+"xetex/"+p;let g=new XMLHttpRequest;g.open("GET",w,!1),g.timeout=15e4,g.responseType="arraybuffer",console.log("Start downloading texlive file "+w);try{g.send()}catch{return console.log("TexLive Download Failed "+w),0}if(g.status===200){let _=g.response;const A=g.getResponseHeader("fileid"),C=l.cacheRoot+"/"+A;return c.writeFile(C,new Uint8Array(_)),br[p]=C,fe(be(C))}else if(g.status===301)return console.log("TexLive File not exists "+w),kr[p]=1,0;return 0}return Dr.ready}})();Br.DviPDF=Zt,Br.PDFTex=Jt,Br.Xetex=Kt});
